(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7616],{30169:function(e,t,n){"use strict";var a=n(85893),r=n(74047),o=n(52700),i=n(4706),s=n(8127),c=n(44102),l=n(20775),p=n(26265),u=n(67294),_=n(53082),d=n(27904),h=n(28261),g=n(6831),f=n(96451),m=n(7143),y=n(25965),b=n.n(y);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.Z)(this,n)}}var w={clickHouseShoot:g.F7},O=function(e){(0,s.Z)(n,e);var t=S(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,p.Z)((0,i.Z)(e),"sendEvents",(function(t,n){var a=e.props.systemInformation.clickHouseData,r={};switch(t){case"logo":r={block_type:"header",block_attributes_id:"header",element_type:"logo",element_attributes_id:"start"};break;case"login":r={block_type:"header",block_attributes_id:"header",element_type:"link",element_attributes_id:"to_sign_in",element_attributes_text:e.props.t("paymentleft.login")};break;case"phone":r={block_type:"footer",block_attributes_id:"footer",element_type:"link",element_attributes_id:"support_phone",element_attributes_text:n||""};break;case"email":r={block_type:"footer",block_attributes_id:"footer",element_type:"link",element_attributes_id:"support_mail",element_attributes_text:n||""};break;case"signup":r={block_type:"header",block_attributes_id:"header",element_type:"link",element_attributes_id:"to_try_free",element_attributes_text:n||""}}var o=v(v(v({},a),r),{},{action_id:"click",event_time:(new Date).getTime()});e.props.clickHouseShoot(o)})),(0,p.Z)((0,i.Z)(e),"handleFirebaseData",(function(e){return null})),(0,p.Z)((0,i.Z)(e),"handleLogoClick",(function(){e.sendEvents("logo"),(0,h.kT)("support","",window.location.host)})),e}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.bgUrl,r=t.logoUrl,o=this.props.registration.authData;return(0,a.jsxs)("div",{className:b()["payment-left"],children:[(0,a.jsxs)("div",{className:b()["payment-left__bg-wrapper"],children:[(0,a.jsxs)("div",{className:b()["payment-left__header"],children:[(0,a.jsx)(d.Link,{prefetch:!1,route:"".concat("ru"!==m.Z.language?"/".concat(m.Z.language):"/"),children:(0,a.jsx)("a",{onClick:this.handleLogoClick,title:this.props.t("paymentleft.title"),children:(0,a.jsx)("img",{className:b()["payment-left__start-logo"],src:"/static/images/header/logo_rebranding_white.svg"})})}),!o||o.email||o.phone||-1!==["/signin","/signup/confirm","/password/code","/auth/reset","/password/success","/tv","/confirmed","/web/success","/web/fail"].indexOf(window.location.pathname.replace("/".concat(m.Z.language),""))?null:(0,a.jsx)(d.Link,{prefetch:!1,route:"".concat("ru"!==m.Z.language?"/".concat(m.Z.language):"","/signin"),children:(0,a.jsxs)("a",{onClick:function(){return e.sendEvents("login")},className:b()["payment-left__link-wrapper"],children:[(0,a.jsx)("span",{className:b()["payment-left__link"],children:this.props.t("paymentleft.login")}),(0,a.jsx)("img",{src:"/static/images/registration/login.svg"})]})})]}),(0,a.jsx)("img",{className:b()["payment-left__bg"],src:n}),(0,a.jsx)("img",{className:b()["payment-left__logo"],src:r})]}),(0,a.jsxs)("div",{className:b()["payment-left__advantages"],children:[(0,a.jsxs)("div",{className:b()["payment-left__item"],children:[(0,a.jsx)("img",{src:"/static/images/registration/premiere.svg",className:b()["payment-left__item-image"],alt:this.props.t("paymentleft.benefit-exclusive-premier")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:b()["payment-left__item-title"],children:"".concat(this.handleFirebaseData("web_trial_feature_one")?this.handleFirebaseData("web_trial_feature_one"):this.props.t("paymentleft.benefit-exclusive-premier"))}),(0,a.jsx)("div",{className:b()["payment-left__item-description"],children:"".concat(this.handleFirebaseData("web_trial_feature_one_description")?this.handleFirebaseData("web_trial_feature_one_description"):this.props.t("paymentleft.description-exclusive-premier"))})]})]}),(0,a.jsxs)("div",{className:b()["payment-left__item"],children:[(0,a.jsx)("img",{src:"/static/images/registration/full-hd.svg",className:b()["payment-left__item-image"],alt:this.props.t("paymentleft.benefit-video-sound")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:b()["payment-left__item-title"],children:"".concat(this.handleFirebaseData("web_trial_feature_two")?this.handleFirebaseData("web_trial_feature_two"):this.props.t("paymentleft.benefit-video-sound"))}),(0,a.jsx)("div",{className:b()["payment-left__item-description"],children:"".concat(this.handleFirebaseData("web_trial_feature_two_description")?this.handleFirebaseData("web_trial_feature_two_description"):this.props.t("paymentleft.description-video-sound"))})]})]}),(0,a.jsxs)("div",{className:b()["payment-left__item"],children:[(0,a.jsx)("img",{src:"/static/images/registration/devices.svg",className:b()["payment-left__item-image"],alt:this.props.t("paymentleft.benefit-one-subscription-1")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:b()["payment-left__item-title"],children:"".concat(this.handleFirebaseData("web_trial_feature_three")?this.handleFirebaseData("web_trial_feature_three"):this.props.t("paymentleft.benefit-one-subscription"))}),(0,a.jsx)("div",{className:b()["payment-left__item-description"],children:"".concat(this.handleFirebaseData("web_trial_feature_three_description")?this.handleFirebaseData("web_trial_feature_three_description"):this.props.t("paymentleft.description-one-subscription"))})]})]})]}),(0,a.jsx)("div",{className:b()["payment-left__footer"],children:(0,a.jsxs)("a",{href:"mailto:support@start.".concat("ru"===m.Z.language?"ru":"film"),className:b()["payment-left__footer-item"],onClick:function(){return e.sendEvents("email","support@start.".concat("ru"===m.Z.language?"ru":"film"))},children:[(0,a.jsx)("img",{src:"/static/images/registration/email.svg",className:b()["payment-left__footer-img"]}),(0,a.jsxs)("span",{className:b()["payment-left__footer-email"],children:["support@start.","ru"===m.Z.language?"ru":"film"]})]})})]})}}]),n}(u.Component);t.Z=(0,_.$j)((function(e){return{systemInformation:e.systemInformation,registration:e.registration}}),w)((0,f.Z)()(O))},418:function(e,t,n){"use strict";n.d(t,{Go:function(){return f},Wg:function(){return m},Zy:function(){return y},wm:function(){return b},wc:function(){return E},Tt:function(){return v},ZX:function(){return S},sd:function(){return w},HV:function(){return O},$R:function(){return C},pv:function(){return x},lR:function(){return P},ZI:function(){return R},$3:function(){return k},iv:function(){return A}});var a=n(809),r=n.n(a),o=n(26265),i=n(92447),s=n(46119),c=n(28261),l=n(55877),p=n.n(l),u=n(88495),_=n.n(u),d=n(6831);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return{type:"SET_CONFIRM_PAYMENT_FULFILLED",payload:e}}function m(){return{type:"AUTH_REFRESH_RESET"}}function y(){return{type:"RESET_AUTH_LOGIN_STATUS"}}function b(e){return{type:"SET_EMAIL_TO_RECOVER",payload:e}}function E(e){return{type:"AUTH_REFRESH_FULFILLED",payload:e}}function v(e){return{type:"SET_START_DEVICE",payload:e}}function S(e){return{type:"GET_TARIFF_FULFILLED",payload:e}}function w(e){return{type:"UPDATE_GDPR_STATUS",payload:e}}function O(e){return{type:"CONFIRM_SPAM_FULFILLED",payload:e}}function C(e){return{type:"PASSWORD_CONFIRM_STATUS",payload:e}}function x(e){return{type:"AUTH_TAGS_UPDATE",payload:e||{tags:[]}}}function P(e){return{type:"AUTH_LANGUAGES_UPDATE",payload:e}}function T(){return(T=(0,i.Z)(r().mark((function e(t,n,a,o,i,l){var p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.XZ.push(i),p=l+(1===n?s.ve.tagsAdd:s.ve.tagsRemove)+c.$h,e.next=4,fetch(p,{credentials:"include",method:1===n?"POST":"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.status<400&&e.json().then((function(e){if(e&&e.tags&&e.tags.length&&a(x(e)),1===n){var r=g(g({},o),{},{action_id:"experiment_distribution",screen_attributes_ab_tag:t.tags[0],event_time:(new Date).getTime()});a((0,d.F7)(r))}if(i){var p="".concat(l).concat(s.ve.tagsRemove).concat(c.$h);fetch(p,{credentials:"include",method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:[i]})}).then((function(e){e.status<400&&e.json().then((function(e){e&&e.tags&&e.tags.length&&a(x(e))}))}))}}))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n,a,r){return function(o){e&&t&&t.length&&t.map((function(t){if(t.status){var i=t&&Array.isArray(t.initialization_screen)&&-1!==t.initialization_screen.indexOf(n)?t:null;if(!(i&&i.group_tags&&i.status&&-1===c.XZ.indexOf(i.initialization_tag)))return;var s=_()(e._id+i.experiment_name).slice(-2),l=parseInt(s,16)%i.group_tags.length,p=i.group_tags[l];e.tags&&e.tags.length&&e.tags.includes(i.initialization_tag)&&function(e,t,n,a,r,o){T.apply(this,arguments)}({tags:[p.name]},1,o,a,i.initialization_tag,r)}}))}}function k(e){var t="".concat(e).concat(s.ve.tags).concat(c.$h);return function(e){return fetch(t,{credentials:"include",method:"GET"}).then((function(t){t.status<400&&t.json().then((function(t){e(function(e){return{type:"FETCH_TAGS_FULFILLED",payload:e}}(t))})),e({type:"FETCH_TAGS_STATUS_FULFILLED",payload:t.status})}))}}function A(e){var t=e+s.ve.authRefresh+c.$h;return function(n){return fetch(t,{credentials:"include",method:"POST"}).then((function(t){if(t.status<400)t.json().then((function(e){var t=e.devices&&e.devices.map((function(e){return"web"===e.type?e:null}));return t&&t.length&&t[t.length-1]&&n(v(t[t.length-1].uid)),n(E(e))}));else{var a=p()();n(v(a));var r=e+s.ve.authDeviceLogin+c.$h,o={device_id:a,device_type:"web",traffic_source:window.location.search,is_child:"/kids"===window.location.pathname};fetch(r,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){n(E(e))})).catch((function(e){console.error(e)}))}})).catch((function(e){console.error(e)}))}}},78777:function(e,t,n){"use strict";function a(){return{type:"TOGGLE_SEARCH_INPUT"}}function r(e){return{type:"TOGGLE_PROFILE_POPUP",payload:e}}function o(e){return{type:"TOGGLE_PROFILE_DELETE_CONFIRM_POPUP",payload:e}}function i(e){return{type:"TOGGLE_EMAIL_POPUP",payload:e}}function s(e){return{type:"TOGGLE_PHONE_POPUP",payload:e}}function c(e){return{type:"TOGGLE_FACEBOOK_UNLINK_POPUP",payload:e}}function l(e){return{type:"TOGGLE_VK_UNLINK_POPUP",payload:e}}function p(e){return{type:"TOGGLE_CONFIRM_PHONE_POPUP",payload:e}}function u(e){return{type:"TOGGLE_CHANGE_PROFILE_NAME_POPUP",payload:e}}function _(e){return{type:"TOGGLE_CHANGE_PROFILE_BIRTHDAY_POPUP",payload:e}}function d(e){return{type:"TOGGLE_CHANGE_PROFILE_GENDER_POPUP",payload:e}}function h(e){return{type:"TOGGLE_ERROR_POPUP",payload:e}}function g(e){return{type:"TOGGLE_ANONYMIZER_POPUP",payload:e}}function f(e){return{type:"TOGGLE_DISABLE_RECCURENT_POPUP",payload:e}}function m(e){return{type:"TOGGLE_DISABLE_RECCURENT_NEW_POPUP",payload:e}}function y(e){return{type:"TOGGLE_PASSWORD_RECOVERY_POPUP",payload:e}}function b(e){return{type:"TOGGLE_PASSWORD_POPUP",payload:e}}function E(e){return{type:"TOGGLE_VISIBLE_MAIN_MENU",payload:e}}function v(e){return{type:"TOGGLE_TTK_POPUP",payload:e}}function S(e){return{type:"TOGGLE_CONFIRM_PAYMENT_POPUP",payload:e}}function w(e){return{type:"TOGGLE_CONFIRM_PAYMENT_DISAGREE_POPUP",payload:e}}function O(e){return{type:"TOGGLE_OFF_GDPR_POPUP",payload:e}}function C(e){return{type:"TOGGLE_VISIBLE_POPUP",payload:e}}function x(e){return{type:"TOGGLE_SWITCH",payload:e}}function P(e){return{type:"TOGGLE_CHECK_AGE_POPUP",payload:e}}function T(e){return{type:"TOGGLE_NOT_FOUND",payload:e}}function R(e){return{type:"TOGGLE_FIRST_CHANNEL",payload:e}}function k(e){return{type:"TOGGLE_PLAY_GRAND_POPUP",payload:e}}function A(e){return{type:"TOGGLE_SOMETHING_WRONG_POPUP",payload:e}}function N(e){return{type:"TOGGLE_IMAGE_COMPONENT",payload:e}}function j(e){return{type:"TOGGLE_LANGUAGE_CHANGE",payload:e}}n.d(t,{Ie:function(){return a},Sq:function(){return r},Zs:function(){return o},Qj:function(){return i},Xs:function(){return s},Gu:function(){return c},Hd:function(){return l},M_:function(){return p},eO:function(){return u},g4:function(){return _},Ox:function(){return d},pH:function(){return h},RX:function(){return g},Zj:function(){return f},sC:function(){return m},CV:function(){return y},z:function(){return b},Wp:function(){return E},Gd:function(){return v},xn:function(){return S},iL:function(){return w},q8:function(){return O},uq:function(){return C},No:function(){return x},aO:function(){return P},UI:function(){return T},BH:function(){return R},A2:function(){return k},Ny:function(){return A},Ju:function(){return N},Qb:function(){return j}})},72485:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var a=n(85893),r=n(67294),o=n(809),i=n.n(o),s=n(92447),c=n(74047),l=n(52700),p=n(4706),u=n(8127),_=n(44102),d=n(20775),h=n(26265),g=n(53082),f=n(9008),m=n(27904),y=n(11768),b=n(30169),E=n(46119),v=n(28261),S=n(78777),w=n(418),O=n(6831),C=n(44775),x=n(94372),P=n(39771),T=n.n(P),R=n(25965),k=n.n(R),A=n(96451),N=n(88882),j=n(7143);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,_.Z)(this,n)}}var I={resetAuthLoginStatus:w.Zy,setCookieAgreement:O.eX,authRefreshed:w.wc,fetchedTariffs:w.ZX,toggleConfirmPaymentPopup:S.xn,setConfirmPayment:w.Go,clickHouseShoot:O.F7,toggleErrorPopup:S.pH,confirmSpam:w.HV,authLanguagesUpdate:w.lR,authTagsUpdate:w.pv,handleTags:w.ZI},L="web_applepay_tag",G=["web_applepay_true","web_applepay_false"],U=function(e){(0,u.Z)(n,e);var t=D(n);function n(e){var a;return(0,c.Z)(this,n),a=t.call(this,e),(0,h.Z)((0,p.Z)(a),"handleSignFieldChange",(function(e){var t=e.target.value;t.length<=60?a.setState({signField:t.trim(),signFieldError:!1,signFieldErrorMessage:""}):a.setState({signFieldError:!0,signFieldErrorMessage:a.props.t("signup.login-length")})})),(0,h.Z)((0,p.Z)(a),"handleSignFieldValidate",(function(){var e=a.state.signField,t=-1!==e.indexOf("@"),n=(0,v.vV)(e),r="+79"!==e.slice(0,3)&&"89"!==e.slice(0,2)&&"79"!==e.slice(0,2);e.length?t?t&&!n&&a.setState({signFieldError:t&&!n,signFieldFocus:!1,signFieldErrorMessage:a.props.t("signup.Email has wrong format")}):(0,v.Y0)(e)?r&&a.setState({signFieldError:!0,signFieldFocus:!1,signFieldErrorMessage:a.props.t("signup.russian-phone")}):a.setState({signFieldError:!0,signFieldFocus:!1,signFieldErrorMessage:a.props.t("signup.errorPhoneInternational")}):a.setState({signFieldError:!0,signFieldFocus:!1,signFieldErrorMessage:a.props.t("signup.errorMessage-emptyField")})})),(0,h.Z)((0,p.Z)(a),"handleSignFieldBlur",(function(){a.handleSignFieldValidate();var e=a.props.systemInformation.clickHouseData,t=-1!==a.state.signField.indexOf("@"),n=F(F({},e),{},{action_id:"text_input",element_type:"input",element_attributes_id:t?"email":"phone",event_time:(new Date).getTime()});a.props.clickHouseShoot(n)})),(0,h.Z)((0,p.Z)(a),"handleSignFieldFocus",(function(){a.setState({signFieldFocus:!0});var e=-1!==a.state.signField.indexOf("@"),t=F(F({},a.props.systemInformation.clickHouseData),{},{action_id:"text_input_start",element_type:"input",element_attributes_id:e?"email":"phone",event_time:(new Date).getTime()});a.props.clickHouseShoot(t)})),(0,h.Z)((0,p.Z)(a),"handlePasswordChange",(function(e){var t=e.target.value;t.length>60&&a.setState({password:t,passwordError:!0,passwordErrorMessage:""}),a.setState({password:t,passwordError:!1,passwordErrorMessage:""})})),(0,h.Z)((0,p.Z)(a),"handlePasswordValidate",(function(){var e=a.state.password;a.setState({passwordError:e.length<6,passwordFocus:!1,passwordErrorMessage:e.length<6?a.props.t("signup.errorPasswordToShort"):""})})),(0,h.Z)((0,p.Z)(a),"handlePasswordBlur",(function(){var e=a.props.systemInformation.clickHouseData;a.handlePasswordValidate();var t=F(F({},e),{},{action_id:"text_input",element_type:"input",element_attributes_id:"password",event_time:(new Date).getTime()});a.props.clickHouseShoot(t)})),(0,h.Z)((0,p.Z)(a),"handlePasswordFocus",(function(){var e=a.props.systemInformation.clickHouseData;a.setState({passwordFocus:!0});var t=F(F({},e),{},{action_id:"text_input",element_type:"input",element_attributes_id:"password",event_time:(new Date).getTime()});a.props.clickHouseShoot(t)})),(0,h.Z)((0,p.Z)(a),"handleVisiblePassword",(function(){var e=a.state.eye;a.setState({eye:!e},(function(){var e=a.state.eye,t=F(F({},a.props.systemInformation.clickHouseData),{},{action_id:"click",element_type:"button",element_attributes_id:e?"hide":"show",event_time:(new Date).getTime()});a.props.clickHouseShoot(t)}))})),(0,h.Z)((0,p.Z)(a),"checkEnterKey",(function(e){13===e.keyCode&&a.handleSubmit()})),(0,h.Z)((0,p.Z)(a),"handleConfirmLicense",(function(){var e=a.state.confirmLicense,t=a.props.registration,n=t.authData,r=t.confirmPayment;"RU"===n.country_code&&"RU"===n.current_country_code||e?(a.updateConfirmPayment=!1,r&&a.props.setConfirmPayment(!1),a.setState({confirmLicense:!e,confirmLicenseErrorMessage:""})):(a.updateConfirmPayment=!1,a.props.toggleConfirmPaymentPopup({on:!0,isReccurent:!1,isPaymentForm:!0}))})),(0,h.Z)((0,p.Z)(a),"handleConfirmSpam",(function(){var e=a.state.confirmSpam;a.props.confirmSpam(!e),a.setState((function(){return{confirmSpam:!e}}))})),(0,h.Z)((0,p.Z)(a),"handleSubmit",(0,s.Z)(i().mark((function e(){var t,n,r,o,s,c,l,p,u,_,d,h,g,f,y,b,S,w,O,C,x,P,T,R;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.submited=!0,e.next=3,a.handleSignFieldValidate();case 3:if(t=a.state,n=t.signFieldError,r=t.passwordError,o=t.signField,s=t.password,c=t.confirmLicense,l=t.passwordErrorMessage,p=t.confirmLicenseErrorMessage,u=t.signFieldErrorMessage,_=t.canClick,d=t.capchaValue,h=t.capcha,g=t.capchaKey,f=-1!==o.indexOf("@"),y=a.props.systemInformation,b=y.clickHouseData,S=y.startDeviceId,w=a.props.registration,O=w.authData,C=w.tags,x=(0,v.vV)(o),P="+79"!==o.slice(0,3)&&"89"!==o.slice(0,2)&&"79"!==o.slice(0,2),!(!o||!s||o&&!o.length||s&&s.length<6||!f&&(!(0,v.Y0)(o)||P)||f&&!x)&&c){e.next=12;break}return a.setState({signFieldError:n||0===o.length,signFieldErrorMessage:0===o.length?a.props.t("signup.errorMessage-emptyField"):u,passwordError:r||0===s.length||s.length<6,passwordErrorMessage:0===s.length||s.length<6?a.props.t("signup.errorPasswordToShort"):l,confirmLicense:c,confirmLicenseErrorMessage:c?p:a.props.t("signup.errorCheckbox")}),e.abrupt("return");case 12:f&&_?(a.setState({canClick:!1}),T="".concat(a.apiUrl).concat(E.ve.emailRegistration).concat(v.$h),R={email:o.trim(),password:btoa(unescape(encodeURIComponent(s))),device_id:S,device_type:"web",client_platform:"start",is_encoded:!0},h&&(R.captcha=d,R.key=g),fetch(T,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}).then((function(e){e.status<400?e.json().then((function(e){window.ApplePaySession&&O.tags.includes(L)&&a.props.handleTags(O,C,"main",b,a.apiUrl),a.setState({submited:!0},(function(){var t;if(null!==(t=e.language)&&void 0!==t&&t.interface)a.fetchAuth(e,O,b);else{var n="".concat(a.apiUrl).concat(E.ve.profile,"/").concat(e.profile_id,"/interface/language").concat(v.$h);fetch(n,{credentials:"include",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"}),method:"PUT",body:JSON.stringify({language:j.Z.language})}).then((function(t){t.status<400&&t.json().then((function(t){a.props.authLanguagesUpdate(t.data.language),a.fetchAuth(e,O,b)}))}))}}))})):(e.json().then((function(e){var t=!1;!e||"CAPTCHA_IS_WRONG"!==e.code&&"CAPTCHA_IS_NEEDED"!==e.code&&"CAPTCHA_NOT_FOUND"!==e.code||(e&&e.data&&e.data.captcha&&"CAPTCHA_IS_WRONG"===e.code||"CAPTCHA_NOT_FOUND"===e.code||"CAPTCHA_IS_NEEDED"===e.code)&&(t="".concat(a.apiUrl).concat(e.data.captcha).concat(v.__,"&v=").concat(Math.random(1e3)));a.setState({passwordError:!0,signFieldError:!0,passwordErrorMessage:a.errors[e.code]||a.errors[e.message]||e.message||a.props.t("signup.errorSomethingWrong"),capcha:t,capchaKey:t&&e&&e.data&&e.data.key,capchaValue:""})})),a.setState({canClick:!0}))}))):_&&(a.setState({canClick:!1}),a.setState({submited:!0},(function(){var e="".concat(a.apiUrl).concat(E.ve.phoneRegistration).concat(v.$h);localStorage.setItem("phone",o),localStorage.setItem("password",s);var t={phone:o,status_gdpr:!0};fetch(e,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.status<400?m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"","/signup/confirm")):(e.json().then((function(e){a.setState({submited:!1,signFieldError:!0,passwordError:!0,passwordErrorMessage:a.errors[e.code]||a.errors[e.message]||e.message||a.props.t("signup.errorSomethingWrong")})})),a.setState({canClick:!0}))}))})));case 13:case"end":return e.stop()}}),e)})))),(0,h.Z)((0,p.Z)(a),"fetchAuth",(function(e,t,n){a.fetchSubscribe(e.authentication_token).then((function(){var r=F(F({},n),{},{account_id:e._id,profile_id:e.profile_id,account_type:e.type?e.type.toLowerCase():"",screen_attributes_ab_tag:e.tags||"",action_id:"registration",event_time:(new Date).getTime()});a.props.clickHouseShoot(r);var o=a.state.couponDuration,i=localStorage.getItem("fromCode");t.upgrade_options&&t.upgrade_options.length&&(e.upgrade_options=t.upgrade_options),a.loaded=!0,a.props.authRefreshed(e);var s=y.ZP.load("fromTv"),c=localStorage.getItem("url"),l=y.ZP.load("supportReturn");if(l)m.Router.pushRoute(l);else if(c){var p=null;try{p=ga.getAll()[0].get("clientId")}catch(h){}var u=(0,E.mC)("".concat(a.apiUrl).concat(c).concat(v.$h).concat(p?"&ga_id=".concat(p):""));fetch(u,{credentials:"include",method:"GET"}).then((function(e){e.status<400&&e.text().then((function(e){window.location=(0,E.hh)(e,j.Z.language)}))})),localStorage.removeItem("url")}else if(o||i)localStorage.removeItem("fromCode"),m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"","/code"));else if("true"==s){var _=y.ZP.load("tvCode"),d="".concat(a.apiUrl).concat(E.ve.tvCode).concat(_).concat(v.$h);fetch(d,{method:"POST",credentials:"include"}).then((function(e){e.status<400&&e.json().then((function(e){if(a.props.authRefreshed(e),(e.email||e.phone)&&e.subscriptions&&e.subscriptions.length)m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"","/web/success"));else{var t=e.upgrade_options.filter((function(e){return e.allow_trial&&0===e.weight}))[0];t&&t.url?(y.ZP.save("fromTvPrice",t.price,{path:"/",domain:(0,E.tm)(window.location.host)}),y.ZP.save("fromTvCurrency",t.currency,{path:"/",domain:(0,E.tm)(window.location.host)}),a.fetchTariifs(t.url)):a.fetchTariifs()}}))}))}else a.fetchTariifs()}))})),(0,h.Z)((0,p.Z)(a),"fetchSubscribe",(function(e){var t=a.state.confirmSpam,n=["".concat(a.apiUrl).concat(E.ve.subscribeEmail).concat(v.$h),"".concat(a.apiUrl).concat(E.ve.subscribePush).concat(v.$h),"".concat(a.apiUrl).concat(E.ve.subscribeSMS).concat(v.$h)];return Promise.all(n.map((function(n){return fetch(n,{method:t?"POST":"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({apikey:v.Bz,auth_token:e})})})))})),(0,h.Z)((0,p.Z)(a),"shoot",(function(e){fetch(v.kE,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})),(0,h.Z)((0,p.Z)(a),"fetchTariifs",(function(e){if(e)a.handleTariffPay(e);else{var t="".concat(a.apiUrl).concat(E.ve.getTariffs).concat(v.$h);fetch(t,{credentials:"include",method:"GET"}).then((function(e){e.status<400&&e.json().then((function(e){a.props.fetchedTariffs(e),a.handleTariffPay(e.filter((function(e){return 0===e.weight&&e.allow_trial}))[0].url)}))}))}})),(0,h.Z)((0,p.Z)(a),"handleTariffPay",(function(e){var t=null;try{t=ga.getAll()[0].get("clientId")}catch(r){}var n=(0,E.mC)("".concat(a.apiUrl).concat(e).concat(v.$h).concat(t?"&ga_id=".concat(t):""));fetch(n,{credentials:"include",method:"GET"}).then((function(e){e.status<400?e.text().then((function(e){window.location=(0,E.hh)(e,j.Z.language)})):e.json().then((function(e){a.setState({codeError:!0,codeErrorMessage:a.errors[e.code]||a.errors[e.message]||e.message||a.props.t("signup.errorSomethingWrong")})}))}))})),(0,h.Z)((0,p.Z)(a),"handleBack",(function(){a.setState({signField:"",signFieldError:!1,signFieldFocus:!1,signFieldErrorMessage:"",password:"",passwordError:!1,passwordFocus:!1,passwordErrorMessage:"",confirmLicense:!1,confirmLicenseErrorMessage:"",submited:!1,needConfirm:!1})})),(0,h.Z)((0,p.Z)(a),"sendEvents",(function(e){var t=a.props.systemInformation.clickHouseData,n={};switch(e){case"privacy":n={element_type:"link",element_attributes_id:"privacy_policy",element_attributes_text:a.props.t("signup.privacy-policy")};break;case"termsofuse":n={element_type:"link",element_attributes_id:"terms_of_service",element_attributes_text:a.props.t("signup.terms-of-use")};break;case"login":n={element_type:"link",element_attributes_id:"to_sign_in",element_attributes_text:a.props.t("signup.login")}}var r=F(F(F({},t),n),{},{action_id:"click",event_time:(new Date).getTime()});a.props.clickHouseShoot(r)})),(0,h.Z)((0,p.Z)(a),"handleCaphaChange",(function(e){var t=e.target.value;a.setState({capchaValue:t,signFieldError:!1,signFieldErrorMessage:"",passwordError:!1,passwordErrorMessage:""})})),(0,h.Z)((0,p.Z)(a),"handleCaphaFocus",(function(){a.setState({capchaFocus:!0});var e=a.props.systemInformation.clickHouseData,t=a.props.registration.authData,n=F(F({},e),{},{screen_attributes_ab_tag:t&&t.tags?t.tags:"",action_id:"text_input_start",action_attributes_ab_tag:"manual",element_type:"input",element_attributes_id:"captcha",element_attributes_text:a.props.t("signup.input-capcha-label"),event_time:(new Date).getTime()});a.props.clickHouseShoot(n)})),(0,h.Z)((0,p.Z)(a),"handleCaphaBlur",(function(){a.setState({capchaFocus:!1});var e=a.props.systemInformation.clickHouseData,t=a.props.registration.authData,n=a.state.capchaValue,r=F(F({},e),{},{screen_attributes_ab_tag:t&&t.tags?t.tags:"",action_id:"text_input",action_result:n,element_type:"input",element_attributes_id:"captcha",element_attributes_text:a.props.t("signup.input-capcha-label"),event_time:(new Date).getTime()});a.props.clickHouseShoot(r)})),(0,h.Z)((0,p.Z)(a),"handleCapchaRefresh",(function(){var e=a.state.capcha;if(e){fetch(e).then((function(t){t.status<400?a.setState({capcha:"".concat(e,"&v=").concat(Math.random(1e3))}):a.handleSubmit()}));var t=F(F({},a.props.systemInformation.clickHouseData),{},{action_id:"click",element_type:"button",element_attributes_id:"request_captcha",event_time:(new Date).getTime()});a.props.clickHouseShoot(t)}})),(0,h.Z)((0,p.Z)(a),"handleSocialShoot",(function(e,t){var n=F(F({},a.props.systemInformation.clickHouseData),{},{action_id:t||"click",screen_type:"registration",screen_attributes_id:"registration",element_type:"button",element_attributes_id:"F"===e?"auth_facebook":"auth_google",event_time:(new Date).getTime()});a.props.clickHouseShoot(n)})),(0,h.Z)((0,p.Z)(a),"handleGoogleAuth",(function(){if(a.state.confirmLicense){a.FBClick=!0,a.handleSocialShoot("G");var e=(0,p.Z)(a);gapi.load("auth2",(function(){gapi.auth2.init({client_id:"499709915422-29abur395ckft86gjigvu8rlrsk92b5c.apps.googleusercontent.com"}).grantOfflineAccess().then(e.signInCallback)}))}else a.setState({confirmLicenseErrorMessage:a.props.t("signup.errorCheckbox")})})),(0,h.Z)((0,p.Z)(a),"signInCallback",(function(e){fetch("".concat(a.apiUrl).concat(E.ve.googleSignup).concat(v.$h),{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_code:e.code})}).then((function(e){e.status<400?e.json().then((function(e){a.props.authRefreshed(e),a.handleRedirect(e,"G")})):a.handleFail(e,"G")}))})),(0,h.Z)((0,p.Z)(a),"handleFacebookAuth",(function(){a.state.confirmLicense?(a.FBClick=!0,a.handleSocialShoot("F"),FB.login((function(e){"connected"===e.status&&fetch("".concat(a.apiUrl).concat(E.ve.fbSignup).concat(v.$h),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:e.authResponse.accessToken})}).then((function(e){e.status<400?e.json().then((function(e){a.props.authRefreshed(e),a.handleRedirect(e,"F")})):a.handleFail(e,"F")}))}),{scope:"email"})):a.setState({confirmLicenseErrorMessage:a.props.t("signup.errorCheckbox")})})),(0,h.Z)((0,p.Z)(a),"landingsRedirect",(function(e,t){if((e.email||e.phone)&&(e.subscriptions&&e.subscriptions.length&&((0,v.iB)(e.subscriptions).googleplay_id||(0,v.iB)(e.subscriptions).itunes_product_id)||e.externals.length)){if(e.externals.length){return void m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"").concat("/pages/subscription/already"))}var n=(0,v.iB)(e.subscriptions),r="/pages/subscription/already?manageable=".concat(n.manageable);n.googleplay_id&&(r+="&googleplay_id=true"),n.itunes_product_id&&(r+="&itunes_product_id=true"),m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"").concat(r))}else{var o=null;try{o=ga.getAll()[0].get("clientId")}catch(s){}var i=(0,E.mC)("".concat(a.apiUrl).concat(t).concat(v.$h).concat(o?"&ga_id=".concat(o):""));fetch(i,{credentials:"include",method:"GET"}).then((function(e){e.status<400&&e.text().then((function(e){window.location=(0,E.hh)(e,j.Z.language)}))}))}localStorage.removeItem("url")})),(0,h.Z)((0,p.Z)(a),"handleReturn",(function(e){e||!window.history.length?m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"/")):m.Router.back()})),(0,h.Z)((0,p.Z)(a),"handleFail",(function(e,t){e?e.json().then((function(e){a.setState({socialError:a.errors[e.code]||a.errors["".concat(e.code,"_").concat(t)]||"".concat(a.props.t("signup.SIGN_IN_FAILED-1")," ").concat(a.props.t("signup.SIGN_IN_FAILED-2"))})})):a.props.toggleErrorPopup(!0)})),(0,h.Z)((0,p.Z)(a),"handleRedirect",(function(e,t){var n=a.state.couponDuration,r=localStorage.getItem("fromCode"),o=y.ZP.load("fromTv"),i=localStorage.getItem("url");if(i)a.landingsRedirect(e,i);else if("true"==o){var s=y.ZP.load("tvCode"),c="".concat(a.apiUrl).concat(E.ve.tvCode).concat(s).concat(v.$h);fetch(c,{method:"POST",credentials:"include"}).then((function(e){e.status<400&&e.json().then((function(e){if(a.props.authRefreshed(e),(e.email||e.phone)&&e.subscriptions&&e.subscriptions.length)m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"","/web/success"));else{var t=e.upgrade_options.filter((function(e){return e.allow_trial&&0===e.weight}))[0];t&&t.url?(y.ZP.save("fromTvPrice",t.price,{path:"/",domain:(0,E.tm)(window.location.host)}),y.ZP.save("fromTvCurrency",t.currency,{path:"/",domain:(0,E.tm)(window.location.host)}),a.fetchTariifs(t.url)):a.fetchTariifs()}}))}))}else n||r?(localStorage.removeItem("fromCode"),m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"","/code"))):(t&&a.handleSocialShoot(t,"registration"),e.subscriptions&&e.subscriptions.length?m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"/")):a.fetchSubscribe(e.auth_token).then((function(){a.fetchTariifs()})))})),(0,h.Z)((0,p.Z)(a),"handleVkAuth",(function(){a.state.confirmLicense?N.lj.userVisibleAuth().then(a.onAuthData,a.onAuthError):a.setState({confirmLicenseErrorMessage:a.props.t("signup.errorCheckbox")});var e=F(F({},a.props.systemInformation.clickHouseData),{},{action_id:"click",element_type:"button",element_attributes_id:"auth_vk",event_time:(new Date).getTime()});a.props.clickHouseShoot(e)})),(0,h.Z)((0,p.Z)(a),"onAuthData",(function(e){if(e&&e.payload&&e.payload.token&&e.payload.uuid){var t={silent_token:e.payload.token,public_uuid:e.payload.uuid};fetch("".concat(a.apiUrl).concat(E.ve.vkSignup).concat(v.$h),{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.status<400?e.json().then((function(e){a.VKClick=!0,a.props.authRefreshed(e),a.handleRedirect(e,"VK")})):e.json().then((function(e){"USER_ALREADY_REGISTERED"===e.code?a.setState({socialError:a.props.t("signin.errorVKsignup")}):"VKONTAKTE_ERROR"===e.code?a.setState({socialError:a.props.t("signin.errorVKerror")}):"ACCOUNT_CONFLICT"===e.code?a.setState({socialError:a.props.t("signin.errorVKconflict")}):a.setState({socialError:a.props.t("signin.errorVKother")})}))}))}})),(0,h.Z)((0,p.Z)(a),"onAuthError",(function(e){console.error("onAuthError",e)})),(0,h.Z)((0,p.Z)(a),"handleMouseEnter",(function(e,t){"desktop_web"===a.props.systemInformation.deviceSize&&(e.target.src="/static/images/registration/".concat(t,"-a.svg"))})),(0,h.Z)((0,p.Z)(a),"handleMouseLeave",(function(e,t){"desktop_web"===a.props.systemInformation.deviceSize&&(e.target.src="/static/images/registration/".concat(t,".svg"))})),a.apiUrl=e.systemInformation.API_URL||v.T5,a.state={bgUrl:"".concat(a.apiUrl).concat(y.ZP.load("bgUrl")),logoUrl:y.ZP.load("logoUrl"),signField:"",signFieldError:!1,signFieldFocus:!1,signFieldErrorMessage:"",password:"",passwordError:!1,passwordFocus:!1,passwordErrorMessage:"",confirmLicense:!1,confirmLicenseErrorMessage:"",eye:!0,couponDuration:y.ZP.load("coupon_duration"),submited:!1,canClick:!0,capcha:!1,capchaValue:"",capchaFocus:!1,capchaKey:null,socialError:null},a.cookieDevice=y.ZP.load("startSignBack"),a.cookieHost=y.ZP.load("startOrigin"),a.updateConfirmPayment=!1,a.loaded=!1,a.checkLogin=!1,a.submited=!1,a.loadedSystemInformation=!1,a.loadAuthTags=!1,a.loadTags=!1,a.FBClick=!1,a.VKClick=!1,a.errors={CODE_NOT_FOUND:a.props.t("signup.CODE_NOT_FOUND"),PHONE_ALREADY_USED:a.props.t("signup.PHONE_ALREADY_USED"),WRONG_USER:a.props.t("signup.WRONG_USER"),"Maximum number of SMS messages was sent in last hour":a.props.t("signup.Maximum number of SMS messages was sent in last hour"),"User has already been registered":a.props.t("signup.User has already been registered"),SMS_SEND_DISABLED:a.props.t("signup.SMS_SEND_DISABLED"),SMS_SERVER_ERROR:a.props.t("signup.SMS_SERVER_ERROR"),SMS_LIMIT_EXCEEDED:a.props.t("signup.SMS_LIMIT_EXCEEDED"),"Email has wrong format":a.props.t("signup.Email has wrong format"),CAPTCHA_IS_NEEDED:a.props.t("signup.CAPTCHA_IS_NEEDED"),CAPTCHA_IS_WRONG:a.props.t("signup.CAPTCHA_IS_WRONG"),INVALID_PASSWORD:a.props.t("signup.INVALID_PASSWORD"),EMAIL_IS_NEEDED:a.props.t("signup.EMAIL_IS_NEEDED"),SIGN_IN_FAILED:a.props.t("signup.SIGN_IN_FAILED"),SIGN_IN_CANCELLED:a.props.t("signup.SIGN_IN_CANCELLED"),SIGN_IN_CURRENTLY_IN_PROGRESS:a.props.t("signup.SIGN_IN_CURRENTLY_IN_PROGRESS"),AUTH_CODE_IS_EXPIRED:a.props.t("signup.AUTH_CODE_IS_EXPIRED"),GOOGLE_ERROR:a.props.t("signup.GOOGLE_ERROR"),FB_ERROR:a.props.t("signup.FB_ERROR"),ACCOUNT_CONFLICT_F:a.props.t("signup.ACCOUNT_CONFLICT_F"),ACCOUNT_CONFLICT_G:a.props.t("signup.ACCOUNT_CONFLICT_G"),USER_ALREADY_REGISTERED_F:a.props.t("signup.USER_ALREADY_REGISTERED_F"),USER_ALREADY_REGISTERED_G:a.props.t("signup.USER_ALREADY_REGISTERED_G"),USER_ALREADY_LOGGED_IN_F:a.props.t("signup.USER_ALREADY_LOGGED_IN_F"),USER_ALREADY_LOGGED_IN_G:a.props.t("signup.USER_ALREADY_LOGGED_IN_G"),NOT_REGISTERED_F:a.props.t("signup.NOT_REGISTERED_F"),NOT_REGISTERED_G:a.props.t("signup.NOT_REGISTERED_G")},a.tagLoad=!1,a.tagInit=!1,a}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){var e=this.state.logoUrl;if(this.checkLogin=!0,e&&this.setState({logoUrl:e}),(0,v.kT)("addCard","",window.location.host),(0,v.kT)("defaultBuy","",window.location.host),!document.getElementById("connectfb")){var t=document.createElement("script");t.src="https://connect.facebook.net/en_US/sdk.js",t.async=!0,t.id="connectfb",document.body.appendChild(t),window.fbAsyncInit=function(){FB.init({appId:"110857366212101",autoLogAppEvents:!0,xfbml:!0,version:"v7.0"})}}if(!document.getElementById("apis")){var n=document.createElement("script");n.src="https://apis.google.com/js/client:platform.js?onload=start",n.async=!0,n.id="apis",document.body.appendChild(n)}N.De.init({appId:"7880617"})}},{key:"componentDidUpdate",value:function(){var e=this.props.registration,t=e.confirmPayment,n=e.authData,a=this.props.toggle.confirmPaymentPopup,r=this.props.systemInformation.deviceSize,o=this.state,i=o.confirmLicense,s=o.bgUrl,c=y.ZP.load("bgUrl");if(r&&!this.loadedSystemInformation)if(this.loadedSystemInformation=!0,c&&"undefined"!==typeof c){var l="";switch(r){case"mobile_web":l="?size=768x431&quality=60";break;default:l="?size=1240x700&quality=60"}this.setState({bgUrl:"".concat(s).concat(l)})}else switch(r){case"mobile_web":this.setState({bgUrl:"/static/images/registration/default_m.jpg"});break;default:this.setState({bgUrl:"/static/images/registration/default.jpg"})}!n||this.submited||!this.checkLogin||!n.email&&!n.phone||this.FBClick||this.VKClick||(this.checkLogin=!1,this.handleReturn()),this.updateConfirmPayment||a.on||!t||(this.updateConfirmPayment=!0,this.setState({confirmLicense:!i,validForm:!1,confirmLicenseErrorMessage:i?this.props.t("signup.errorCheckbox"):""})),!n||!n.email&&!n.phone||this.loaded||this.FBClick||this.VKClick||(this.loaded=!0,m.Router.pushRoute("".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"/"))),window.ApplePaySession&&n&&!n.tags.includes(L)&&!n.tags.some((function(e){return G.includes(e)}))&&this.props.authTagsUpdate({tags:[L]})}},{key:"render",value:function(){var e=this,t=this.state,n=t.bgUrl,r=t.logoUrl,o=t.signField,i=t.signFieldError,s=t.signFieldFocus,c=t.eye,l=t.password,p=t.passwordError,u=t.passwordFocus,_=t.signFieldErrorMessage,d=t.passwordErrorMessage,h=t.couponDuration,g=t.confirmLicense,y=t.confirmSpam,E=t.confirmLicenseErrorMessage,v=t.capcha,S=t.capchaValue,w=t.capchaFocus,O=t.canClick,P=t.socialError,R=this.props.registration.authData,A=this.props.systemInformation.support,N=this.props.profile.currentProfile;if(!R)return(0,a.jsx)("div",{className:T().waiting_for_data,children:(0,a.jsx)("div",{className:T().spinner})});var Z=null,F=null;return F=localStorage.getItem("url"),Z||(Z=localStorage.getItem("fromCode")),(0,a.jsxs)("div",{className:"".concat(k().sign," ").concat(N&&N.child?k().child:""),children:[(0,a.jsx)(f.default,{children:(0,a.jsx)("title",{children:this.props.t("signup.title")})}),(0,a.jsxs)("div",{className:"".concat(k().sign__wrapper),children:[(0,a.jsx)(b.Z,{bgUrl:n,logoUrl:r,authData:R,support:A}),(0,a.jsx)("div",{className:"".concat(k().sign__right),children:(0,a.jsx)("div",{className:k().sign__form,children:(0,a.jsxs)("div",{className:k()["sign__form-wrapper"],onKeyDown:this.checkEnterKey,children:[(0,a.jsx)("div",{className:k()["sign__form-steps"],dangerouslySetInnerHTML:{__html:this.props.t("signup.step")}}),(0,a.jsx)("div",{className:k()["sign__form-title"],children:h||Z?this.props.t("signup.page-title-promocode"):F?(0,a.jsx)("span",{children:this.props.t("signup.page-title-offer")}):this.props.t("signup.page-title-signup")}),(h||Z)&&(0,a.jsx)("div",{className:k()["sign__form-description"],children:(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:this.props.t("signup.page-promocod-description")}})}),(0,a.jsxs)("div",{className:"".concat(k()["payment-input"]," ").concat(i?k()["payment-input__error"]:""),children:[(0,a.jsx)("label",{htmlFor:"signField",className:"".concat(k()["payment-input__placeholder"]," ").concat(o.length>0||s?k()["payment-input__focused"]:""),children:this.props.t("signup.input-login-label")}),(0,a.jsx)("input",{type:"text",value:o,className:"".concat(k()["payment-input__field"]," ").concat(o.length>0||s?k()["payment-input__field-focused"]:""),onChange:this.handleSignFieldChange,onBlur:this.handleSignFieldBlur,onFocus:this.handleSignFieldFocus,maxLength:254,id:"signField"})]}),i&&_&&(0,a.jsx)("div",{className:k()["payment-input__error-text"],children:_}),(0,a.jsxs)("div",{className:"".concat(k()["payment-input"]," ").concat(k().second," ").concat(p?k()["payment-input__error"]:""),children:[(0,a.jsx)("label",{htmlFor:"signPassword",className:"".concat(k()["payment-input__placeholder"]," ").concat(l.length>0||u?k()["payment-input__focused"]:""),children:this.props.t("signup.input-password-label")}),(0,a.jsx)("input",{type:c?"password":"text",value:l,autoComplete:"cc-password",className:"".concat(k()["payment-input__field"]," ").concat(l.length>0||u?k()["payment-input__field-focused"]:""),onChange:this.handlePasswordChange,onBlur:this.handlePasswordBlur,onFocus:this.handlePasswordFocus,id:"signPassword"}),(0,a.jsx)("div",{className:"".concat(k()["payment-input__image"]," ").concat(p||u?k()["payment-input__image-visible"]:""),onClick:this.handleVisiblePassword,children:(0,a.jsx)("img",{src:"/static/images/registration/eye-".concat(c?"on":"off",".svg")})})]}),v?(0,a.jsxs)("div",{className:k().capcha,children:[(0,a.jsxs)("div",{className:"".concat(k().capcha__input," ").concat(k()["payment-input"]," ").concat(p?k()["payment-input__error"]:""),children:[(0,a.jsx)("label",{htmlFor:"signFieldCapcha",className:"".concat(k()["payment-input__placeholder"]," ").concat(S.length>0||w?k()["payment-input__focused"]:""),children:this.props.t("signup.input-capcha-label")}),(0,a.jsx)("input",{type:"text",value:S,className:"".concat(k()["payment-input__field"]," ").concat(S.length>0||w?k()["payment-input__field-focused"]:""),onChange:this.handleCaphaChange,onBlur:this.handleCaphaBlur,onFocus:this.handleCaphaFocus,id:"signFieldCapcha",autoComplete:"off"})]}),(0,a.jsxs)("div",{className:k().capcha__image,children:[(0,a.jsx)("img",{src:v,className:k()["capcha__image-tag"]}),(0,a.jsx)("img",{src:"/static/images/registration/refresh.svg",className:k()["capcha__image-refresh"],onClick:this.handleCapchaRefresh})]})]}):null,p&&(0,a.jsx)("div",{className:k()["payment-input__error-text"],children:d}),(0,a.jsxs)("div",{className:k().sign__checkbox,children:[(0,a.jsx)(C.Z,{checked:g,onChange:this.handleConfirmLicense,name:"agreement",page:"signup",text:"<div>".concat(this.props.t("signup.i-agree"),"<a href=","".concat("ru"===j.Z.language?"":"/".concat(j.Z.language),"/legal/privacy_policy"),' target="_blank">').concat(R&&R.current_country_code&&"RU"!==R.current_country_code?"Privacy policy":this.props.t("signup.privacy-policy"),"</a> ").concat(this.props.t("signup.and"),"  <a href=","".concat("ru"===j.Z.language?"":"/".concat(j.Z.language),"/legal/terms_of_use"),' target="_blank">').concat(R&&R.current_country_code&&"RU"!==R.current_country_code?"Terms of use":this.props.t("signup.terms-of-use"),"</a></div>")}),E.length>0&&(0,a.jsx)("div",{className:k()["sign__checkbox-error"],children:E})]}),(0,a.jsx)("div",{className:"".concat(k().sign__checkbox," ").concat(k()["second-checkbox"]),children:(0,a.jsx)(C.Z,{checked:y,onChange:this.handleConfirmSpam,name:"notifications",page:"signup",text:this.props.t("signup.checkbox-text")})}),(0,a.jsx)(x.Z,{onClick:this.handleSubmit,type:"register",text:this.props.t("signup.Submit-button"),spinner:!O,fullWidth:!0}),(0,a.jsxs)("div",{className:k().services,children:[(0,a.jsxs)("div",{className:k().divide,children:[(0,a.jsx)("div",{className:k().divide__line}),(0,a.jsx)("div",{className:k().divide__wrap,children:(0,a.jsx)("div",{className:k().divide__text,children:this.props.t("signup.tozhe-samoe")})})]}),(0,a.jsxs)("div",{className:k().buttons,children:[(0,a.jsxs)("svg",{className:k().buttons__google,width:"90",height:"48",viewBox:"0 0 90 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:this.handleGoogleAuth,children:[(0,a.jsx)("rect",{width:"90",height:"48",rx:"4",fill:"white"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.4 17.6214C47.3529 17.6214 48.6703 18.465 49.4214 19.1699L52.3565 16.3041C50.5538 14.6285 48.208 13.6001 45.4 13.6001C41.3325 13.6001 37.8196 15.9343 36.1094 19.3317L39.472 21.9432C40.3156 19.4357 42.6498 17.6214 45.4 17.6214Z",fill:"#EA4335"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55.3839 24.2312C55.3839 23.3761 55.3146 22.7521 55.1643 22.105H45.3999V25.9645H51.1315C51.0159 26.9236 50.3919 28.3681 49.0052 29.3388L52.287 31.881C54.2515 30.0668 55.3839 27.3974 55.3839 24.2312Z",fill:"#4285F4"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.4836 26.0569C39.264 25.4098 39.1369 24.7164 39.1369 24C39.1369 23.2835 39.264 22.5902 39.472 21.9431L36.1093 19.3315C35.4044 20.7413 35 22.3244 35 24C35 25.6755 35.4044 27.2587 36.1093 28.6684L39.4836 26.0569Z",fill:"#FBBC05"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.4 34.4C48.208 34.4 50.5653 33.4756 52.2871 31.8809L49.0053 29.3387C48.1271 29.9511 46.9484 30.3787 45.4 30.3787C42.6497 30.3787 40.3155 28.5644 39.4835 26.0569L36.1208 28.6684C37.8311 32.0658 41.3324 34.4 45.4 34.4Z",fill:"#34A853"})]}),(0,a.jsxs)("svg",{className:k().buttons__fb,width:"90",height:"48",viewBox:"0 0 90 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:this.handleFacebookAuth,children:[(0,a.jsx)("rect",{width:"90",height:"48",rx:"4",fill:"#3B5998"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.1016 37.1115V24.0542H50.7059L51.1836 19.5546H47.1016L47.1077 17.3025C47.1077 16.1289 47.2192 15.5001 48.9048 15.5001H51.1581V11H47.5532C43.2231 11 41.6991 13.1828 41.6991 16.8536V19.5551H39V24.0547H41.6991V37.1115H47.1016Z",fill:"white"})]}),(0,a.jsxs)("svg",{className:k().buttons__vk,width:"90",height:"48",viewBox:"0 0 90 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:this.handleVkAuth,children:[(0,a.jsx)("rect",{width:"90",height:"48",rx:"4",fill:"#2787F5"}),(0,a.jsx)("path",{d:"M49.3371 9.85715C57.2571 9.85715 59.1428 11.7429 59.1428 19.6629V28.3371C59.1428 36.2571 57.2571 38.1429 49.3371 38.1429H40.6628C32.7428 38.1429 30.8571 36.2571 30.8571 28.3371V19.6629C30.8571 11.7429 32.7428 9.85715 40.6628 9.85715H49.3371ZM38.2232 18.6964H36.1607C35.5714 18.6964 35.4536 18.9738 35.4536 19.2797C35.4536 19.826 36.1528 22.5355 38.7093 26.119C40.4137 28.5663 42.8149 29.8929 45 29.8929C46.311 29.8929 46.4732 29.5982 46.4732 29.0907V27.2411C46.4732 26.6518 46.5974 26.5342 47.0126 26.5342C47.3185 26.5342 47.8429 26.6871 49.0666 27.8671C50.465 29.2655 50.6956 29.8929 51.4822 29.8929H53.5447C54.1339 29.8929 54.4286 29.5982 54.2586 29.0168C54.0726 28.4372 53.4049 27.5964 52.519 26.5997C52.0382 26.0316 51.3172 25.4198 51.0987 25.1139C50.7928 24.7206 50.8802 24.5457 51.0987 24.1962L51.1354 24.1441C51.4462 23.7024 53.6302 20.5705 53.8737 19.4546C54.0048 19.0176 53.8737 18.6964 53.25 18.6964H51.1875C50.6631 18.6964 50.4213 18.9738 50.2902 19.2797C50.2902 19.2797 49.2413 21.8363 47.7555 23.4969C47.2748 23.9776 47.0563 24.1306 46.7941 24.1306C46.663 24.1306 46.4732 23.9776 46.4732 23.5407V19.4546C46.4732 18.9302 46.321 18.6964 45.8839 18.6964H42.6429C42.3151 18.6964 42.1181 18.9398 42.1181 19.1705C42.1181 19.6677 42.8609 19.7823 42.9375 21.1808V24.218C42.9375 24.8839 42.8173 25.0047 42.555 25.0047C41.8558 25.0047 40.155 22.4367 39.1463 19.4983C38.9486 18.9271 38.7503 18.6964 38.2232 18.6964Z",fill:"white"})]})]}),P?(0,a.jsx)("div",{className:k().error,dangerouslySetInnerHTML:{__html:P}}):null]}),(0,a.jsxs)("div",{className:k().sign__bottom,children:[this.props.t("signup.have-account")," ",(0,a.jsx)(m.Link,{prefetch:!1,route:"".concat("ru"!==j.Z.language?"/".concat(j.Z.language):"","/signin"),children:(0,a.jsx)("a",{onClick:function(){return e.sendEvents("login")},children:(0,a.jsx)("span",{children:this.props.t("signup.login")})})})]})]})})})]})]})}}]),n}(r.Component),H=(0,g.$j)((function(e){return{registration:e.registration,systemInformation:e.systemInformation,toggle:e.toggle,profile:e.profile}}),I)((0,A.Z)()(U)),M=function(){return(0,a.jsx)(H,{})}},44775:function(e,t,n){"use strict";var a=n(85893),r=n(74047),o=n(52700),i=n(4706),s=n(8127),c=n(44102),l=n(20775),p=n(26265),u=n(67294),_=n(53082),d=n(6831),h=n(31694),g=n.n(h),f=n(25965),m=n.n(f);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.Z)(this,n)}}var v={clickHouseShoot:d.F7},S=function(e){(0,s.Z)(n,e);var t=E(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,p.Z)((0,i.Z)(e),"state",{size:e.props.size||"m"}),(0,p.Z)((0,i.Z)(e),"onChangeCheckbox",(function(t){var n=e.props.systemInformation.clickHouseData,a=e.props.registration.authData,r=e.props,o=r.name,i=r.checked,s=r.text,c=r.blockInfo;e.dataToUpdate=b(b(b({},n),c),{},{action_id:"click",action_result:!i,element_type:"checkbox",screen_attributes_ab_tag:a&&a.tags||"",event_version:"1.0",element_attributes_id:o,element_attributes_text:s,event_time:Date.now()}),e.props.clickHouseShoot(e.dataToUpdate),e.props.onChange(t)})),e}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.state.size,t=this.props,n=t.text,r=t.name,o=t.checked,i=t.title,s=t.disabled,c=t.page;return(0,a.jsxs)(u.Fragment,{children:[(0,a.jsx)("input",{className:"".concat(g().checkbox," ").concat("signup"===c?g().sign:"job"===c?g().job:""," ").concat("l"===e?g().checkbox_l:""," ").concat("xl"===e?g().checkbox_xl:""),type:"checkbox",id:r,name:r,checked:o,onChange:this.onChangeCheckbox,disabled:s}),(0,a.jsx)("label",{htmlFor:r,title:i,children:(0,a.jsx)("div",{className:"job"===c?g().checkbox_text:m().checkbox_text,dangerouslySetInnerHTML:{__html:n}})})]})}}]),n}(u.Component);t.Z=(0,_.$j)((function(e){return{systemInformation:e.systemInformation,registration:e.registration}}),v)(S)},38971:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return n(72485)}])},39771:function(e){e.exports={left:"App_left__1MiZF",right:"App_right__2QY2I",clear:"App_clear__1v8hd",overflow:"App_overflow__3ENLw",fullHeight:"App_fullHeight__117_X",hidden:"App_hidden__cUoWG",non_visible:"App_non_visible__h0iC1",visible:"App_visible__gJeOR",non_visible_absolute:"App_non_visible_absolute__3XiDc",payment__form:"App_payment__form__1OTFp",content:"App_content__3zomT",wrapper:"App_wrapper__2_SPl",child:"App_child__1X8wj",page_title:"App_page_title__3Lu-9",black_bg:"App_black_bg__2pifb",start_playing_info:"App_start_playing_info__3xGYm",footer_global_wrapper:"App_footer_global_wrapper__1IS9V",footer_menu:"App_footer_menu__3E6IL","list__social-text":"App_list__social-text__CNg_e",not_found_global_wrapper:"App_not_found_global_wrapper__LM_rA",not_found_wrapper:"App_not_found_wrapper__2_s6w",not_found_title:"App_not_found_title__20N2d",not_found_main:"App_not_found_main__1Sbpd",small_paragraph:"App_small_paragraph__2akcH","padding-20":"App_padding-20__q87Im","page-wrapper":"App_page-wrapper__3JGyg",visible_menu:"App_visible_menu__3rtYt",closed_menu:"App_closed_menu__3cuO2",onoffswitch:"App_onoffswitch__L-VsE","onoffswitch-checkbox":"App_onoffswitch-checkbox__259bT","onoffswitch-label":"App_onoffswitch-label__3GGvB","onoffswitch-inner":"App_onoffswitch-inner__VMFIk",start_checkbox:"App_start_checkbox__1t1Sc",start_checkbox_red:"App_start_checkbox_red__17yqP",logout:"App_logout__31tGa","vjs-big-play-button":"App_vjs-big-play-button__5HXjR",waiting_for_data:"App_waiting_for_data__3tjyR",spinner:"App_spinner__1TS9Z",start_originals:"App_start_originals__5eEOD",spinner_slider:"App_spinner_slider__2RV_l",disabled_text_button:"App_disabled_text_button__23-2e",page_wrapper:"App_page_wrapper__3Ee3Z",favorites:"App_favorites__1ZaJZ","payment-button":"App_payment-button__1D65V",disabled:"App_disabled__2U8l0","payment-text":"App_payment-text__Psl8u","payment-button_secondary":"App_payment-button_secondary__1HAqW",resended:"App_resended__tNy2B",not_found_wrapper_shade:"App_not_found_wrapper_shade__Geks5"}},31694:function(e){e.exports={checkbox:"Checkbox_checkbox__1HWxo",sign:"Checkbox_sign__1FwXX",checkbox_l:"Checkbox_checkbox_l__2qAhI",checkbox_xl:"Checkbox_checkbox_xl__2mHtv",job:"Checkbox_job__26Osh",checkbox_text:"Checkbox_checkbox_text__3TFUt"}}},function(e){e.O(0,[9774,7925,3433,2090,7018,2191,8122,8882,1688,6880],(function(){return t=38971,e(e.s=t);var t}));var t=e.O();_N_E=t}]);