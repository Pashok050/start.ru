(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{72761:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var r=a(809),n=a.n(r),c=a(92447),o=a(85893),s=a(74047),i=a(52700),l=a(8127),p=a(44102),u=a(20775),g=a(67294),d=a(59999),h=a(4706),f=a(26265),m=a(9008),y=a(27904),v=a(53082),x=a(89490),j=a(26692),Z=a(93016),_=a(91202),b=a.n(_),k=a(11163),w=a(78777),N=a(28261),F=a(94372),R=a(11768),S=a(46119),O=a(96451),C=a(7143);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,u.Z)(e);if(t){var n=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.Z)(this,a)}}var L={toggleVisiblePopup:w.uq},D=function(e){(0,l.Z)(a,e);var t=P(a);function a(){var e;(0,s.Z)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,h.Z)(e),"state",{selectedGenre:e.props.genre?e.props.genre:null,selectedYear:e.props.year?e.props.year:null,filtersForYear:e.props.filtersForYear,filtersForGenre:e.props.filtersForGenre,selectedSortFlag:e.props.catalog.sortFlag}),(0,f.Z)((0,h.Z)(e),"apiUrl",e.props.systemInformation.API_URL||N.T5),(0,f.Z)((0,h.Z)(e),"genresEngRus",{action:e.props.t("videounit.Blockbusters"),war:e.props.t("videounit.War"),detective:e.props.t("videounit.Detective"),documental:e.props.t("videounit.Documental"),drama:e.props.t("videounit.Drama"),history:e.props.t("videounit.Historical"),comedy:e.props.t("videounit.Comedies"),melodrama:e.props.t("videounit.Melodrama"),cartoon:e.props.t("videounit.Cartoons"),family:e.props.t("videounit.Family"),sport:e.props.t("videounit.Sport"),talkshow:e.props.t("videounit.Talk_Show"),thriller:e.props.t("videounit.Thriller"),fantasy:e.props.t("videounit.Fantasy"),adventure:e.props.t("videounit.Adventures"),bio:e.props.t("videounit.Biography"),criminal:e.props.t("videounit.Criminal"),horror:e.props.t("videounit.Horror"),humor:e.props.t("videounit.Humor"),kids:e.props.t("videounit.Kids"),musical:e.props.t("videounit.Music"),mystic:e.props.t("videounit.Mystic"),nurseryrhymes:e.props.t("videounit.Nurseryrhymes"),russian:e.props.t("videounit.Russian"),education:e.props.t("videounit.Kids-growth"),entertainment:e.props.t("videounit.Kids-entertainment"),scifi:e.props.t("videounit.Sci-Fi"),youth:e.props.t("videounit.Youth"),music:e.props.t("videounit.Music"),reality:e.props.t("videounit.Reality")}),(0,f.Z)((0,h.Z)(e),"getUrlForFilters",(function(t,a){var r=e.props.category,n=R.ZP.load("FOR_KIDS"),c=R.ZP.load("profileType"),o="True"===n||"animation"===r||-1!==r.indexOf("animation")||"true"==c?"&for_kids=true":"&for_kids=false",s=e.props.systemInformation.locale||"ru",i="&locale=".concat(s),l="&content_lang=".concat(s);return"".concat(e.apiUrl).concat(S.ve.categoriesFilter,"?category=").concat("movies"===r||-1!==r.indexOf("movie")?"movie":"animation"===r||-1!==r.indexOf("animation")?"movie,series":"series"===r||-1!==r.indexOf("series")?"series":r,"&".concat(t,"=").concat(a)).concat(o).concat(i).concat(l).concat(N.__)})),(0,f.Z)((0,h.Z)(e),"closeHandler",(function(){e.props.handleClose(),e.props.toggleVisiblePopup(!1)})),(0,f.Z)((0,h.Z)(e),"closeHandlerDisable",(function(e){e.preventDefault(),e.stopPropagation()})),(0,f.Z)((0,h.Z)(e),"handleSelect",function(){var t=(0,c.Z)(n().mark((function t(a,r){var c;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.handleSelect(),"genre"===r&&(c=(0,N.V9)(a,e.genresEngRus),fetch(e.getUrlForFilters("genre",c||a)).then((function(t){t.json().then((function(t){e.setState({filtersForYear:t})}))})),e.setState({selectedGenre:c||a})),"year"===r&&(fetch(e.getUrlForFilters("year",a)).then((function(t){t.json().then((function(t){delete t.genre.cartoon,e.setState({filtersForGenre:t})}))})),e.setState({selectedYear:a})),"sort"===r&&e.setState({selectedSortFlag:N.Cj[a]});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),(0,f.Z)((0,h.Z)(e),"handleGenre",(function(t){return t in e.genresEngRus?e.genresEngRus[t]:t})),(0,f.Z)((0,h.Z)(e),"sortGenres",(function(){var t=e.state.filtersForGenre;return Object.keys(t.genre).sort((function(t,a){return e.handleGenre(t)<e.handleGenre(a)?-1:e.handleGenre(t)>e.handleGenre(a)?1:0})).sort((function(e,a){return 0===t.genre[e]&&0!==t.genre[a]?1:0===t.genre[e]&&0===t.genre[a]?0:0!==t.genre[e]&&0===t.genre[a]?-1:void 0})).map((function(t){return e.handleGenre(t)}))})),(0,f.Z)((0,h.Z)(e),"getYearArray",(function(){var t=e.state.filtersForYear,a=[];if(!(t&&t.year))return a;Object.keys(t.year).length>0&&(a=Object.keys(t.year).filter((function(e){return Number(e)>2009})));var r=["2000-2009","1990-1999","1980-1989","1970-1979"];return a.reverse(),r.forEach((function(e){var r=Number(e.split("-")[0]),n=Number(e.split("-")[1]);Object.keys(t.year).find((function(e){return Number(e)>r-1&&Number(e)<n-1}))&&Object.entries(t.year).filter((function(e){return Number(e[0])>r-1&&Number(e[0])<n-1&&e[1]>0})).length&&a.push(e)})),r.forEach((function(e){var r=Number(e.split("-")[0]),n=Number(e.split("-")[1]);Object.keys(t.year).find((function(e){return Number(e)>r-1&&Number(e)<n-1}))&&!Object.entries(t.year).filter((function(e){return Number(e[0])>r-1&&Number(e[0])<n-1&&e[1]>0})).length&&a.push(e)})),a})),(0,f.Z)((0,h.Z)(e),"handleResetCurrentFilter",(function(t,a){a.stopPropagation(),"genre"===t&&e.setState({selectedGenre:""}),"year"===t&&e.setState({selectedYear:""})})),e}return(0,i.Z)(a,[{key:"render",value:function(){var e=this,t=this.props.profile.childProfile,a=this.state,r=a.selectedGenre,n=a.selectedYear,c=a.filtersForYear,s=a.filtersForGenre,i=a.selectedSortFlag,l=this.props,p=l.selectReset,u=l.genre,g=l.year,d=l.handleReset,h=l.handleSubmit,f=l.category,m=l.t;return(0,o.jsxs)("div",{className:"".concat(b()["catalog__popup-wrapper"]," ").concat(t?b().child:""),children:[(0,o.jsxs)("div",{className:b()["catalog__popup-close"],children:[(0,o.jsx)("img",{src:"".concat(t?"/static/images/Catalog/close-child.svg":"/static/images/Catalog/close.svg"),onClick:this.closeHandler}),(0,o.jsx)("span",{children:m("catalog.filters")})]}),(0,o.jsxs)("div",{className:b()["catalog__popup-filter"],children:[s&&s.genre?(0,o.jsx)(Z.Z,{content:this.sortGenres(),type:"genre",select:function(t){e.handleSelect(t,"genre")},selectReset:p,seletedFirst:!1,initValue:u?this.genresEngRus[u]:null,filters:s.genre,year:g,genre:u,category:f,mobile:!0,mobileSelect:!0}):null,c&&c.year?(0,o.jsx)(Z.Z,{content:this.getYearArray().sort((function(e,t){return 0===c.year[e]&&0!==c.year[t]?1:0===c.year[e]&&0===c.year[t]?0:0!==c.year[e]&&0===c.year[t]?-1:void 0})),mobileSelect:!0,type:"year",select:function(t){e.handleSelect(t,"year")},selectReset:p,seletedFirst:!1,initValue:g||null,filters:c.year,year:g,genre:u,category:f,mobile:!0}):null,(0,o.jsx)(Z.Z,{content:[this.props.t("catalogpopup.by-popularity"),this.props.t("catalogpopup.by-novelty")],type:"sort",select:function(t){e.handleSelect(t,"sort")},selectReset:p,seletedFirst:!1,initValue:"popularity"===i?this.props.t("catalogpopup.by-popularity"):this.props.t("catalogpopup.by-novelty"),filters:s.genre,category:f},"sort"),(0,o.jsx)(F.Z,{text:this.props.t("catalogpopup.apply"),type:"submit_filters",blockInfo:{block_type:"filters",block_attributes_id:"filters"},onClick:function(){return h(r,n,i)},catalog:!0}),u||g?(0,o.jsxs)("div",{className:b().catalog__reset,onClick:d,children:[(0,o.jsx)("img",{src:"/static/images/select/reset.svg"}),(0,o.jsx)("span",{children:this.props.t("catalogpopup.reset-filters")})]}):null]})]})}}]),a}(g.Component),E=(0,k.withRouter)((0,v.$j)((function(e){return{toggle:e.toggle,registration:e.registration,systemInformation:e.systemInformation,profile:e.profile,catalog:e.catalog}}),L)((0,O.Z)()(D))),G=a(9808),I=a(6831);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,f.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,u.Z)(e);if(t){var n=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.Z)(this,a)}}var H={toggleVisiblePopup:w.uq,changeSortFlag:G.z,clickHouseShoot:I.F7,changeCardsCount:G.r},A=function(e){(0,l.Z)(a,e);var t=B(a);function a(){var e;(0,s.Z)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,f.Z)((0,h.Z)(e),"state",{selectReset:!1,showDescription:!0,mobileFilters:!1,browserWidth:0,contentPerPage:16,startSlicedContent:(0,d.Z)(e.props.content.items),cardsInLine:20}),(0,f.Z)((0,h.Z)(e),"genresEngRus",{action:e.props.t("videounit.Blockbusters"),war:e.props.t("videounit.War"),detective:e.props.t("videounit.Detective"),documental:e.props.t("videounit.Documental"),drama:e.props.t("videounit.Drama"),history:e.props.t("videounit.Historical"),comedy:e.props.t("videounit.Comedies"),melodrama:e.props.t("videounit.Melodrama"),cartoon:e.props.t("videounit.Cartoons"),family:e.props.t("videounit.Family"),sport:e.props.t("videounit.Sport"),talkshow:e.props.t("videounit.Talk_Show"),thriller:e.props.t("videounit.Thriller"),fantasy:e.props.t("videounit.Fantasy"),adventure:e.props.t("videounit.Adventures"),bio:e.props.t("videounit.Biography"),criminal:e.props.t("videounit.Criminal"),horror:e.props.t("videounit.Horror"),humor:e.props.t("videounit.Humor"),kids:e.props.t("videounit.Kids"),musical:e.props.t("videounit.Music"),mystic:e.props.t("videounit.Mystic"),nurseryrhymes:e.props.t("videounit.Nurseryrhymes"),russian:e.props.t("videounit.Russian"),education:e.props.t("videounit.Kids-growth"),entertainment:e.props.t("videounit.Kids-entertainment"),scifi:e.props.t("videounit.Sci-Fi"),youth:e.props.t("videounit.Youth"),music:e.props.t("videounit.Music"),reality:e.props.t("videounit.Reality")}),(0,f.Z)((0,h.Z)(e),"rusToEngSortFlag",{popularity:e.props.t("catalog.by-popularity"),start_release_date:e.props.t("catalog.by-novelty")}),(0,f.Z)((0,h.Z)(e),"componentDidMount",(function(){var t=window.innerWidth;e.setState({browserWidth:t,showDescription:!1});var a=20;t<768&&(a=8),t>767&&t<1025&&(a=16),t>1024&&t<1280&&(a=20),t>1279&&(a=24);var r=(0,d.Z)(e.props.content.items.slice(0,a));e.setState({startSlicedContent:r,cardsInLine:a}),e.props.changeCardsCount(a)})),(0,f.Z)((0,h.Z)(e),"componentDidUpdate",(function(t){var a=e.state.cardsInLine,r=t.catalog.sortFlag,o=t.content,s=e.props,i=s.getContentUrl,l=s.content,p=e.props.catalog.sortFlag;if(e.state.browserWidth!==window.innerWidth&&e.setState({browserWidth:window.innerWidth}),p===r||e.state.mobileFilters||fetch("".concat(i,"&limit=").concat(a,"&skip=",0,"&sort=-").concat(p)).then(function(){var e=(0,c.Z)(n().mark((function e(t){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status<400)){e.next=7;break}return e.next=3,t.json();case 3:return a=e.sent,e.abrupt("return",a.items);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)})).then((function(t){e.setState({startSlicedContent:t})})),l!==o){var u=(0,d.Z)(e.props.content.items.slice(0,a));e.setState({startSlicedContent:u})}})),(0,f.Z)((0,h.Z)(e),"handleHeader",(function(){var t=e.props.type,a=t;switch(-1!==t.indexOf("?")&&(a=t.split("?")[0]),-1!==a.indexOf("&")&&(a=t.split("&")[0]),a){case"series":return e.props.t("search.series");case"movies":return e.props.t("search.movies");default:return e.props.t("catalog.cartoons")}})),(0,f.Z)((0,h.Z)(e),"handleSEO",(function(){var t=e.props.type,a=t;switch(-1!==t.indexOf("?")&&(a=t.split("?")[0]),-1!==a.indexOf("&")&&(a=t.split("&")[0]),a){case"series":return e.props.t("videolist.series");case"movies":return e.props.t("videolist.movie");default:return e.props.t("watch.videocategory-case-default-cartoon")}})),(0,f.Z)((0,h.Z)(e),"handleBreadcrumbs",(function(){var t=e.props,a=t.type,r=t.genre,n=t.year,c=t.page,o=e.props.registration.authData,s=a;-1!==a.indexOf("?")&&(s=a.split("?")[0]),-1!==s.indexOf("&")&&(s=a.split("&")[0]);var i="",l=[];switch(s){case"series":i=e.props.t("catalog.series_plural");break;case"movies":i=e.props.t("catalog.movies");break;default:i=e.props.t("catalog.cartoons")}var p={title:i,name:i,link:"/".concat(s)};if(l.push(p),r){var u=e.genresEngRus[r],g={title:"".concat(u),name:"".concat(u),link:"/".concat(s,"/").concat(r)};l.push(g)}return n&&l.push({title:"".concat(n,"'"),name:"".concat(n),link:"/".concat(s,"/").concat(n)}),delete l[l.length-1].link,c||(l[l.length-1].title="".concat(l[l.length-1].title).concat(o&&(o.email||o.phone)?"":" ".concat(e.props.t("catalog.watch-online"))),l[l.length-1].name="".concat(l[l.length-1].name).concat(o&&(o.email||o.phone)?"":" ".concat(e.props.t("catalog.watch-online")))),l})),(0,f.Z)((0,h.Z)(e),"handleGenre",(function(t){return t in N.DF?e.props.t(e.genresEngRus[t]):t})),(0,f.Z)((0,h.Z)(e),"handleResetCurrentFilter",(function(t,a,r){"year"!=r&&(t=(0,N.V9)(t,e.genresEngRus)),a.stopPropagation();var n=Y(Y({},e.props.systemInformation.clickHouseData),{},{screen_attributes_id:y.Router.asPath,action_id:"click",block_type:"block",block_attributes_id:"".concat(r,"s"),element_type:"button",element_attributes_id:"cross",event_time:(new Date).getTime()});e.props.clickHouseShoot(n),y.Router.pushRoute(y.Router.asPath.replace("/".concat(t),""))})),(0,f.Z)((0,h.Z)(e),"getDescription",(function(){var t=e.props,a=t.type,r=(t.page,e.state.showDescription);return"series"===a||-1!==a.indexOf("series")?(0,o.jsxs)(g.Fragment,{children:[(0,o.jsx)("p",{className:b()["catalog__description-paragraph"],children:e.props.t("catalog.desc-1")}),(0,o.jsxs)("div",{className:"".concat(r?"":b().hidden),children:[(0,o.jsxs)("p",{className:b()["catalog__description-paragraph"],children:[(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/horoshiy-chelovek"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-2-1")})}),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/ip-pirogova"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-2-2")})}),", ",e.props.t("catalog.desc-2-3"),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/byvshie"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-2-4")})}),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/bezopasnye-svyazi"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-2-5")})}),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/soderzhanki"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-2-6")})}),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/grand"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-2-7")})})," ",e.props.t("catalog.desc-2-8")," ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/zona-diskomforta"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-2-9")})}),", ",e.props.t("catalog.desc-2-10")]}),(0,o.jsxs)("p",{className:b()["catalog__description-paragraph"],children:[e.props.t("catalog.desc-3-1")," ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/tekst-realnost"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-3-2")})}),e.props.t("catalog.desc-3-3"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/mediator"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-3-4")})})," ",e.props.t("catalog.desc-3-5"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/vampiry-sredney-polosy"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-3-6")})}),"."]}),(0,o.jsx)("p",{className:b()["catalog__description-paragraph"],children:e.props.t("catalog.desc-4-1")}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/series/thriller"),children:(0,o.jsx)("a",{children:e.props.t("catalog.thrillers")})})," ",e.props.t("catalog.thrillers-desc-1"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/soderzhanki"),children:(0,o.jsx)("a",{children:e.props.t("catalog.thrillers-desc-2")})})," ",e.props.t("catalog.thrillers-desc-3"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/shtorm"),children:(0,o.jsx)("a",{children:e.props.t("catalog.thrillers-desc-4")})}),e.props.t("catalog.thrillers-desc-5")]}),(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/series/family"),children:(0,o.jsx)("a",{children:e.props.t("catalog.family")})})," ",e.props.t("catalog.family-desc-1"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/ip-pirogova"),children:(0,o.jsx)("a",{children:e.props.t("catalog.family-desc-2")})})," ",e.props.t("catalog.family-desc-3")," ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/fitnes"),children:(0,o.jsx)("a",{children:e.props.t("catalog.family-desc-4")})}),");"]}),(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/series/drama"),children:(0,o.jsx)("a",{children:e.props.t("catalog.drams")})})," ",e.props.t("catalog.drams-desc-1"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/bezopasnye-svyazi"),children:(0,o.jsx)("a",{children:e.props.t("catalog.drams-desc-2")})})," ",e.props.t("catalog.drams-desc-3")," ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/sadovoe-kolco"),children:(0,o.jsx)("a",{children:e.props.t("catalog.drams-desc-4")})})," ",e.props.t("catalog.drams-desc-5")]}),(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/series/comedy"),children:(0,o.jsx)("a",{children:e.props.t("catalog.comedies")})})," ",e.props.t("catalog.comedy-desc-1"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/grand"),children:(0,o.jsx)("a",{children:e.props.t("catalog.comedy-desc-2")})}),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/kuhnya"),children:(0,o.jsx)("a",{children:e.props.t("catalog.comedy-desc-3")})}),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/roditeli"),children:(0,o.jsx)("a",{children:e.props.t("catalog.comedy-desc-4")})})," ",e.props.t("catalog.comedy-desc-5")," ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/voyna-semey"),children:(0,o.jsx)("a",{children:e.props.t("catalog.comedy-desc-6")})})," ",e.props.t("catalog.comedy-desc-7")]}),(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",e.props.t("catalog.other")]})]}),(0,o.jsx)("p",{className:b()["catalog__description-paragraph"],children:e.props.t("catalog.forgot")})]})]}):"movies"===a||-1!==a.indexOf("movie")?(0,o.jsxs)(g.Fragment,{children:[(0,o.jsx)("p",{className:b()["catalog__description-paragraph"],children:e.props.t("catalog.desc-paragraph-1")}),(0,o.jsxs)("div",{className:"".concat(r?"":b().hidden),children:[(0,o.jsxs)("p",{className:b()["catalog__description-paragraph"],children:[e.props.t("catalog.desc-paragraph-2-1"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/zavod"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-2-2")})})," ",e.props.t("catalog.desc-paragraph-2-3"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/tekst"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-2-4")})})," ",e.props.t("catalog.desc-paragraph-2-5"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/holop"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-2-6")})})," ",e.props.t("catalog.desc-paragraph-2-7"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/person/milosh-bikovich"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-2-8")})}),e.props.t("catalog.desc-paragraph-2-9")]}),(0,o.jsx)("p",{className:b()["catalog__description-paragraph"],children:e.props.t("catalog.desc-paragraph-3")}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",(0,o.jsx)(y.Link,{prefetch:!1,route:"/movies/action",children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-4-1")})})," ",e.props.t("catalog.desc-paragraph-4-2")]}),(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",(0,o.jsx)(y.Link,{prefetch:!1,route:"/movies/drama",children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-5-1")})})," (",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/ya-svoboden"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-5-2")})}),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/svetlyachok"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-5-3")})}),e.props.t("catalog.desc-paragraph-5-4"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/serdce-mira"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-5-5")})})," ",e.props.t("catalog.desc-paragraph-5-6")]}),(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",(0,o.jsx)(y.Link,{prefetch:!1,route:"/movies/detective",children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-6-1")})})," (",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/selfi"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-6-2")})}),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/kollektor"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-6-3")})})," ",e.props.t("catalog.desc-paragraph-6-4")]}),(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",(0,o.jsx)(y.Link,{prefetch:!1,route:"/movies/comedy",children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-7-1")})})," ",e.props.t("catalog.desc-paragraph-7-2"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/vzyatka"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-7-3")})}),");"]}),(0,o.jsxs)("li",{className:b()["catalog__description-paragraph"],children:["\u2013 ",e.props.t("catalog.desc-paragraph-7-4")]})]}),(0,o.jsxs)("p",{className:b()["catalog__description-paragraph"],children:[e.props.t("catalog.desc-paragraph-8-1"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/main/filmy-i-serialy-o-sovetskom-vremeni"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-8-2")})})," , ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/main/filmy-pro-lyubov"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-8-3")})}),", ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/main/korotkometrazhnoe-kino"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-8-4")})})," ",e.props.t("catalog.desc-paragraph-8-5")]}),(0,o.jsx)("p",{className:b()["catalog__description-paragraph"],children:e.props.t("catalog.desc-paragraph-9")})]})]}):"animation"===a||-1!==a.indexOf("animation")?(0,o.jsxs)(g.Fragment,{children:[(0,o.jsxs)("p",{className:"".concat(b()["catalog__description-paragraph"]),children:[e.props.t("catalog.desc-paragraph-10-1"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/fiksiki"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-10-2")})})," ",e.props.t("catalog.desc-paragraph-10-3")," ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/masha-i-medved"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-10-4")})})," ",e.props.t("catalog.desc-paragraph-10-5"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/malyshariki"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-10-6")})})," ",e.props.t("catalog.desc-paragraph-10-7")]}),(0,o.jsxs)("div",{className:"".concat(r?"":b().hidden),children:[(0,o.jsx)("p",{className:"".concat(b()["catalog__description-paragraph"]),children:e.props.t("catalog.desc-paragraph-11-1")}),(0,o.jsxs)("p",{className:"".concat(b()["catalog__description-paragraph"]),children:[(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/main/novoe-na-start-kids"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-12-1")})})," ",e.props.t("catalog.desc-paragraph-12-2")]}),(0,o.jsxs)("p",{className:"".concat(b()["catalog__description-paragraph"]),children:[e.props.t("catalog.desc-paragraph-13-1"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/kukutiki"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-13-2")})})," ",e.props.t("catalog.desc-paragraph-13-3")," ",(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/sinii-traktor"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-13-4")})}),e.props.t("catalog.desc-paragraph-13-5")]}),(0,o.jsx)("p",{className:"".concat(b()["catalog__description-paragraph"]),children:e.props.t("catalog.desc-paragraph-14-1")}),(0,o.jsxs)("p",{className:"".concat(b()["catalog__description-paragraph"]),children:[e.props.t("catalog.desc-paragraph-14-2"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/bukabu"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-14-3")})}),e.props.t("catalog.desc-paragraph-14-4"),(0,o.jsx)(y.Link,{prefetch:!1,route:"".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/watch/kruglyashi"),children:(0,o.jsx)("a",{children:e.props.t("catalog.desc-paragraph-14-5")})}),e.props.t("catalog.desc-paragraph-14-6")]}),(0,o.jsx)("p",{className:"".concat(b()["catalog__description-paragraph"]),children:e.props.t("catalog.desc-paragraph-15-1")})]})]}):void 0})),(0,f.Z)((0,h.Z)(e),"handleSelect",(function(t,a){var r=e.props.catalog.sortFlag,n=(0,N.V9)(t,e.rusToEngSortFlag);if(e.setState({selectReset:!1}),"sort"===a){if(n===r)return;e.props.changeSortFlag(n)}})),(0,f.Z)((0,h.Z)(e),"handleReset",(function(){var t=e.props.type;y.Router.pushRoute("".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/").concat(t)),e.state.mobileFilters?(e.setState({selectReset:!0,mobileFilters:!1}),e.props.toggleVisiblePopup(!1)):e.setState({selectReset:!0})})),(0,f.Z)((0,h.Z)(e),"getYearArray",(function(){var t=e.props.filtersForYear,a=[];if(!(t&&t.year))return a;Object.keys(t.year).length>0&&(a=Object.keys(t.year).filter((function(e){return Number(e)>2009})));var r=["2000-2009","1990-1999","1980-1989","1970-1979"];return a.reverse(),r.forEach((function(e){var r=Number(e.split("-")[0]),n=Number(e.split("-")[1]);Object.keys(t.year).find((function(e){return Number(e)>r-1&&Number(e)<n-1}))&&Object.entries(t.year).filter((function(e){return Number(e[0])>r-1&&Number(e[0])<n-1&&e[1]>0})).length&&a.push(e)})),r.forEach((function(e){var r=Number(e.split("-")[0]),n=Number(e.split("-")[1]);Object.keys(t.year).find((function(e){return Number(e)>r-1&&Number(e)<n-1}))&&!Object.entries(t.year).filter((function(e){return Number(e[0])>r-1&&Number(e[0])<n-1&&e[1]>0})).length&&a.push(e)})),a})),(0,f.Z)((0,h.Z)(e),"showMore",(function(){e.setState((function(e){return{showDescription:!e.showDescription}}))})),(0,f.Z)((0,h.Z)(e),"handleClose",(function(){e.setState({mobileFilters:!1})})),(0,f.Z)((0,h.Z)(e),"handleMobileFilters",(function(){e.setState({mobileFilters:!0,selectReset:!1}),e.props.toggleVisiblePopup(!0)})),(0,f.Z)((0,h.Z)(e),"submitMobileFiltersHandler",(function(t,a,r){var n=e.props.type.split("?"),c=n[0],o=n[1];e.props.toggleVisiblePopup(!1),e.props.changeSortFlag(r).then((function(){y.Router.pushRoute("".concat("ru"!==C.Z.language?"/".concat(C.Z.language):"","/").concat(c).concat(t?"/".concat(t):"").concat(a?"/".concat(a):"").concat(o?"?".concat(o):"")),e.setState({mobileFilters:!1,selectReset:!1})}))})),(0,f.Z)((0,h.Z)(e),"handleSelectForMobile",(function(){e.setState({selectReset:!1})})),(0,f.Z)((0,h.Z)(e),"getGenreArray",(function(){var t=e.props.filters;return Object.keys(t.genre).map((function(t){return e.handleGenre(t)}))})),(0,f.Z)((0,h.Z)(e),"getTitle",(function(){var t=e.props,a=t.genre,r=t.year;switch(t.type){case"series":return e.props.t("catalog.watch-series",{column:a||r?": ":"",genre:a?" ".concat(e.genresEngRus[a]?e.genresEngRus[a].toLowerCase():""):"",comma:a&&r?",":"",year:r?" ".concat(r):""});case"movies":return e.props.t("catalog.watch-movies",{column:a||r?": ":"",genre:a?"".concat(e.genresEngRus[a]?e.genresEngRus[a].toLowerCase():""):"",comma:a&&r?",":"",year:r?" ".concat(r):""});default:return e.props.t("catalog.watch-cartoons",{column:a||r?": ":"",genre:a?" ".concat(e.genresEngRus[a]?e.genresEngRus[a].toLowerCase():""):"",comma:a&&r?",":"",year:r?" ".concat(r):""})}})),(0,f.Z)((0,h.Z)(e),"getSeoDescription",(function(){var t=e.props,a=t.genre,r=t.year,n=(t.page,t.type);if(!a&&!r)switch(n){case"series":return e.props.t("catalog.seo-desc-series");case"movies":return e.props.t("catalog.seo-desc-movies");default:return e.props.t("catalog.seo-desc-cartoons")}return e.props.t("catalog.seo-desc-def-1",{handler:e.handleHeader().toLowerCase(),column:a||r?":":"",genre:a?" ".concat(e.genresEngRus[a]?e.genresEngRus[a].toLowerCase():""):"",comma:a&&r?",":"",year:r?" ".concat(r):"",handler2:e.handleSEO().toLowerCase()})})),(0,f.Z)((0,h.Z)(e),"getNumberOfPages",(function(){var t=e.props.numberOfItems,a=e.state.contentPerPage;return t?Math.ceil(t/a):0})),(0,f.Z)((0,h.Z)(e),"getArrPages",(function(){var t=new Array(e.getNumberOfPages()).fill(1);return t=t.map((function(e,t){return t+1}))})),(0,f.Z)((0,h.Z)(e),"sortGenres",(function(){var t=e.props.filtersForGenre;return Object.keys(t.genre).sort((function(t,a){return e.handleGenre(t)<e.handleGenre(a)?-1:e.handleGenre(t)>e.handleGenre(a)?1:0})).sort((function(e,a){return 0===t.genre[e]&&0!==t.genre[a]?1:0===t.genre[e]&&0===t.genre[a]?0:0!==t.genre[e]&&0===t.genre[a]?-1:void 0})).map((function(t){return e.handleGenre(t)}))})),e}return(0,i.Z)(a,[{key:"componentWillUnmount",value:function(){this.props.changeSortFlag((0,N.V9)(this.props.t("catalog.by-popularity"),this.rusToEngSortFlag))}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,r=t.genre,n=t.year,c=t.page,s=t.getContentUrl,i=t.numberOfItems,l=t.filtersForGenre,p=t.filtersForYear,u=t.t,d=this.state,h=d.selectReset,f=d.showDescription,y=d.mobileFilters,v=d.browserWidth,_=d.startSlicedContent,k=this.props.profile.childProfile,w=n&&this.getYearArray().includes(n)||l&&Object.keys(l.genre).includes(r),N=this.props.registration.authData;return(0,o.jsxs)(g.Fragment,{children:[(0,o.jsxs)("div",{className:"".concat(b().page_wrapper," ").concat(k?b().child:""),children:[(0,o.jsxs)(m.default,{children:[(0,o.jsx)("title",{children:"".concat(this.getTitle()).concat(c?" \u2013 ".concat(this.props.t("catalog.page")," ").concat(c):"")}),(0,o.jsx)("meta",{name:"description",content:this.getSeoDescription()})]}),(0,o.jsx)(j.Z,{breadcrumbs:this.handleBreadcrumbs()}),(0,o.jsxs)("div",{className:b().catalog,children:[r||n?(0,o.jsx)("h1",{children:"".concat(this.handleHeader(),":").concat(r?" ".concat(this.genresEngRus[r]?u(this.genresEngRus[r]).toLowerCase():""):"").concat(r&&n?",":"").concat(n?" ".concat(n):"").concat(N&&(N.email||N.phone)?"":" ".concat(this.props.t("catalog.watch-online"))).concat("")}):(0,o.jsx)("h1",{children:"".concat(this.handleHeader()).concat(N&&(N.email||N.phone)?"":" ".concat(this.props.t("catalog.watch-online"))).concat("")}),"ru"===C.Z.language&&N&&!N.email&&!N.phone&&!r&&!n&&this.getDescription(),(0,o.jsxs)("noscript",{children:[!r&&!n&&this.getDescription(),(0,o.jsx)("div",{className:b().genres__wrapper,children:l&&l.genre&&Object.keys(l.genre).map((function(t,r){return l.genre[t]?(0,o.jsx)("a",{href:"".concat(a?"/".concat(a):"","/".concat(t)).concat(n?"/".concat(n):""),children:(0,o.jsx)("div",{children:(0,o.jsx)("span",{children:e.handleGenre(t)})})},"".concat(a,"-").concat(r)):(0,o.jsx)("a",{children:(0,o.jsx)("div",{children:(0,o.jsx)("span",{children:e.handleGenre(t)})})},"".concat(a,"-").concat(r))}))}),(0,o.jsx)("div",{className:b().years__wrapper,children:this.getYearArray().map((function(e,t){return p.year[e]||e.split("-").length>1&&Object.entries(p.year).filter((function(t){return Number(t[0])>=Number(e.split("-")[0])&&t[1]>0&&Number(t[0])<=Number(e.split("-")[1])})).length?(0,o.jsx)("a",{href:"".concat(a?"/".concat(a):"").concat(r?"/".concat(r):"","/".concat(e)),children:(0,o.jsx)("div",{className:"",children:(0,o.jsx)("span",{children:e})})},"".concat(e,"-").concat(t)):(0,o.jsx)("a",{children:(0,o.jsx)("div",{className:"",children:(0,o.jsx)("span",{children:e})})},"".concat(e,"-").concat(t))}))})]}),"ru"===C.Z.language&&N&&!N.email&&!N.phone&&!r&&!n&&(0,o.jsxs)("div",{className:b()["catalog__show-more"],onClick:this.showMore,children:[(0,o.jsx)("span",{children:f?this.props.t("catalog.hide"):this.props.t("catalog.show")}),(0,o.jsx)("img",{src:"".concat(k?"/static/images/product/arrow-down-child.svg":"/static/images/product/arrow-down.svg"),className:"".concat(b()["catalog__show-more-image"]," ").concat(f?b().rotate:"")})]}),v>1024?(0,o.jsxs)("div",{className:b().catalog__filters,children:[(0,o.jsxs)("div",{className:b()["catalog__filters-wrapper"],children:[l&&l.genre?(0,o.jsx)(Z.Z,{content:this.sortGenres(),type:"genre",select:function(t){e.handleSelect(t,"genre")},selectReset:h,seletedFirst:!1,initValue:r?this.props.t(this.genresEngRus[r]):null,filters:l.genre,year:n,genre:r,category:a,handleResetCurrentFilter:this.handleResetCurrentFilter},"genre"):null,p&&p.year?(0,o.jsx)(Z.Z,{content:this.getYearArray().sort((function(e,t){return 0===p.year[e]&&0!==p.year[t]?1:0===p.year[e]&&0===p.year[t]?0:0!==p.year[e]&&0===p.year[t]?-1:void 0})),type:"year",select:function(t){e.handleSelect(t,"year")},selectReset:h,seletedFirst:!1,initValue:n||null,filters:p.year,year:n,genre:r,category:a,handleResetCurrentFilter:this.handleResetCurrentFilter},"year"):null,_&&_.length?(0,o.jsx)(Z.Z,{content:[this.props.t("catalog.by-popularity"),this.props.t("catalog.by-novelty")],type:"sort",select:function(t){e.handleSelect(t,"sort")},selectReset:h,seletedFirst:!1,initValue:"popularity"===this.props.catalog.sortFlag?this.props.t("catalog.by-popularity"):this.props.t("catalog.by-novelty"),filters:l.genre,year:n,genre:r,category:a,handleResetCurrentFilter:this.handleResetCurrentFilter,def:"popularity"===this.props.catalog.sortFlag?this.props.t("catalog.by-popularity"):this.props.t("catalog.by-novelty")},"sort"):null]}),r||n?(0,o.jsxs)("div",{className:b().catalog__reset,onClick:this.handleReset,children:[(0,o.jsx)("img",{src:"/static/images/select/reset.svg"}),(0,o.jsx)("span",{children:this.props.t("catalog.reset-filter")})]}):null]}):null,(l||p)&&(l.genre||p.year)&&(0,o.jsxs)("div",{className:b()["catalog__filters-mobile"],onClick:this.handleMobileFilters,children:[w?(0,o.jsx)("img",{src:"/static/images/Catalog/red-point.svg",className:b()["red-point"]}):null,(0,o.jsx)("img",{src:"".concat(k?"/static/images/Catalog/filter-child.svg":"/static/images/Catalog/filter.svg"),className:b()["catalog__filters-mobile-img"]}),(0,o.jsx)("span",{children:this.props.t("catalog.filters")})]}),_&&_.length?(0,o.jsx)(x.Z,{data:_,getContentUrl:s,numberOfItems:i,year:n,genre:r,endPage:c===this.getNumberOfPages()},"0"):null,!_||_&&!_.length?(0,o.jsxs)("div",{className:b()["catalog__no-content"],children:[(0,o.jsx)("span",{className:b()["catalog__no-content-title"],children:this.props.t("catalog.content-not-found")}),(0,o.jsx)("span",{className:b()["catalog__no-content-description"],children:this.props.t("catalog.change-filter")}),(0,o.jsx)("img",{src:"".concat(k?"/static/images/Catalog/no-content-child.svg":"/static/images/Catalog/no-content.svg")})]}):null]}),(0,o.jsx)("noscript",{children:(0,o.jsxs)("div",{className:b().pagination__wrapper,children:[c&&1!==c?(0,o.jsx)("a",{href:"".concat(a?"/".concat(a):"").concat(r?"/".concat(r):"").concat(n?"/".concat(n):"").concat(2===c?"":"/page".concat(c-1)),children:(0,o.jsx)("img",{src:"/static/images/Catalog/arrow-pagination-left.svg"})}):null,this.getArrPages().map((function(t,s){return(0,o.jsxs)(g.Fragment,{children:[c&&c>4&&2===s&&i>4&&(0,o.jsx)("div",{className:b().ellipsis,children:"..."}),(c+3<e.getNumberOfPages()||!c)&&s===e.getNumberOfPages()-1&&e.getNumberOfPages()>5||!c&&e.getNumberOfPages()>4&&t===e.getNumberOfPages()?(0,o.jsx)("div",{className:b().ellipsis,children:"..."}):null,c?null:t<=3||t===e.getNumberOfPages()?(0,o.jsx)("a",{className:"".concat(b().page," ").concat(t===c||!c&&0===s?b().active:""),href:"".concat(a?"/".concat(a):"").concat(r?"/".concat(r):"").concat(n?"/".concat(n):"").concat(0!==s?"/page".concat(t):""),children:t}):null,c&&(c-2<=t&&t<=c+2||t===e.getNumberOfPages()||1===t)?(0,o.jsx)("a",{className:"".concat(b().page," ").concat(t===c||!c&&0===s?b().active:""),href:"".concat(a?"/".concat(a):"").concat(r?"/".concat(r):"").concat(n?"/".concat(n):"").concat(0!==s?"/page".concat(t):""),children:t}):null]},"".concat(t,"-").concat(s))})),c&&c!==this.getNumberOfPages()||!c&&this.getNumberOfPages()>1?(0,o.jsx)("a",{href:"".concat(a?"/".concat(a):"").concat(r?"/".concat(r):"").concat(n?"/".concat(n):"","/page".concat(c?c+1:2)),children:(0,o.jsx)("img",{src:"/static/images/Catalog/arrow-pagination-right.svg"})}):null]})})]}),y&&(0,o.jsx)(E,{handleClose:this.handleClose,filtersForGenre:l,filtersForYear:p,content:_,selectReset:h,getGenreArray:this.handleGenre,handleSelect:this.handleSelectForMobile,sortGenres:this.sortGenres,getYearArray:this.getYearArray,genre:r,handleReset:this.handleReset,year:n,type:a,handleSubmit:this.submitMobileFiltersHandler,category:a})]})}}]),a}(g.Component),M=(0,v.$j)((function(e){return{systemInformation:e.systemInformation,profile:e.profile,registration:e.registration,catalog:e.catalog}}),H)((0,O.Z)()(A)),U=a(57670);function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,u.Z)(e);if(t){var n=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.Z)(this,a)}}var W=["2000-2009","1990-1999","1980-1989","1970-1979"],z=function(e){(0,l.Z)(a,e);var t=V(a);function a(){return(0,s.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.category,r=e.filters,n=e.genre,c=e.year,s=e.kids,i=e.pageN,l=e.numberOfItems,p=e.getContentUrl,u=e.filtersForGenre,g=e.filtersForYear;return"animation"!==a&&-1===a.indexOf("animation")&&s||n&&!(n in r.genre)||c&&!(c in r.year)&&!W.includes(c)?(0,o.jsx)(U.Z,{}):(0,o.jsx)(M,{content:t,type:a,filters:r,genre:n,year:c,page:i,numberOfItems:l,getContentUrl:p,filtersForGenre:u,filtersForYear:g})}}],[{key:"getInitialProps",value:function(){var e=(0,c.Z)(n().mark((function e(t){var a,r,c,o,s,i,l,p,u,g,d,h,f,m,y,v,x,j,Z,_,b,k,w,F,O,C,P,L,D,E,G,I,T,Y,B,H,A,M,U,V,z,q,K,J;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.asPath,l=(null===(a=t.reduxStore.getState())||void 0===a||null===(r=a.systemInformation)||void 0===r?void 0:r.API_URL)||N.T5,p=t.query,u=p.genre,g=p.year,d=p.page,x={genre:[],year:[]},j=(null===(c=t.reduxStore.getState())||void 0===c||null===(o=c.systemInformation)||void 0===o?void 0:o.locale)||(null===t||void 0===t||null===(s=t.query)||void 0===s?void 0:s.locale)||"ru",2!==(Z=i.split("/"))[1].length&&Z.splice(1,0,j),_=Z.length>=3?Z[2]:Z[1],b="".concat(l,"/categories?category="),k=R.ZP.load("FOR_KIDS")||R.ZP.load("profileType"),w="movies"===_?"movie":"animation"===_?"movie,series":_.replace("?","&").replace("movies","movie").replace("animation","movie,series"),F=t.req&&t.req.headers&&t.req.headers["geoip-country-code"]?"&geoip_cc=".concat(t.req.headers["geoip-country-code"]):"",O=t.req&&t.req.cookies&&("True"==t.req.cookies.FOR_KIDS||"true"==t.req.cookies.profileType)||"True"===k||"animation"===_||-1!==_.indexOf("animation")?"&for_kids=true":"&for_kids=false",C="&for_kids=true"===O,P="&locale=".concat(j),L="&content_lang=".concat(j),u&&(u.includes("page")&&(h=isNaN(Number(u.replace("page","")))?null:Number(u.replace("page",""))),u&&(!g||g.includes("page"))&&(0,N.bT)(u)&&(w+="&year=".concat(u)),!u||u.includes("page")||(0,N.bT)(u)||(w+="&genre=".concat(u))),g&&(g.includes("page")&&(h=isNaN(Number(g.replace("page","")))?null:Number(g.replace("page",""))),(0,N.bT)(g)&&(w+="&year=".concat(g))),d&&d.includes("page")&&(h=isNaN(Number(d.replace("page","")))?null:Number(d.replace("page",""))),w+="&device_type=web",1!==h&&0!==h||t.res.redirect(i.replace("/page1","").replace("/page","")),g=u&&(0,N.bT)(u)?u:g&&g.includes("page")?null:g,u=u&&u.includes("page")||u&&(0,N.bT)(u)?null:u,D=t.reduxStore.getState()&&t.reduxStore.getState().catalog&&t.reduxStore.getState().catalog.sortFlag?t.reduxStore.getState().catalog.sortFlag:"popularity",E=t.reduxStore.getState()&&t.reduxStore.getState().catalog&&t.reduxStore.getState().catalog.cardsCount?t.reduxStore.getState().catalog.cardsCount:20,G=encodeURI("".concat(b).concat(w).concat(F).concat(O,"&sort=-").concat(D,"&limit=").concat(h?16:E,"&skip=").concat(h?16*(h-1):0).concat(N.__).concat(P).concat(L)),e.next=28,fetch(G);case 28:if(!((I=e.sent).status<400)){e.next=33;break}return e.next=32,I.json();case 32:v=e.sent;case 33:return T="".concat(l).concat(S.ve.categoriesFilter,"?category=").concat(w).concat(O).concat(F).concat(N.__).concat(P).concat(L),e.next=36,fetch(encodeURI("".concat(T)));case 36:if(!((Y=e.sent).status<400)){e.next=43;break}return e.next=40,Y.json();case 40:delete(x=e.sent).genre.cartoon,"animation"===_||-1!==_.indexOf("animation")?f=x&&x.category?x.category.movie+x.category.series:0:(B="movies"===_||-1!==_.indexOf("movie")?"movie":"series"===_||-1!==_.indexOf("series")?"series":_,f=x&&x.category&&x.category[B]?x.category[B]:0);case 43:if(u||g){e.next=48;break}y=x,m=x,e.next=93;break;case 48:if(!u||g){e.next=61;break}return H="".concat(l).concat(S.ve.categoriesFilter,"?category=").concat("movies"===_?"movie":"animation"===_?"movie,series":_).concat(g?"&year=".concat(g):"").concat(O).concat(F).concat(N.__).concat(P).concat(L),e.next=52,fetch(encodeURI("".concat(H)));case 52:if(!((A=e.sent).status<400)){e.next=58;break}return e.next=56,A.json();case 56:delete(m=e.sent).genre.cartoon;case 58:y=x,e.next=93;break;case 61:if(u||!g){e.next=74;break}return M="".concat(l).concat(S.ve.categoriesFilter,"?category=").concat("movies"===_?"movie":"animation"===_?"movie,series":_).concat(u?"&genre=".concat(u):"").concat(O).concat(F).concat(N.__).concat(P).concat(L),e.next=65,fetch(encodeURI("".concat(M)));case 65:if(!((U=e.sent).status<400)){e.next=71;break}return e.next=69,U.json();case 69:delete(y=e.sent).genre.cartoon;case 71:m=x,e.next=93;break;case 74:if(!u||!g){e.next=93;break}return V="".concat(l).concat(S.ve.categoriesFilter,"?category=").concat("movies"===_?"movie":"animation"===_?"movie,series":_).concat(u?"&genre=".concat(u):"").concat(O).concat(F).concat(N.__).concat(P).concat(L),e.next=78,fetch(encodeURI("".concat(V)));case 78:if(!((z=e.sent).status<400)){e.next=84;break}return e.next=82,z.json();case 82:delete(y=e.sent).genre.cartoon;case 84:return q="".concat(l).concat(S.ve.categoriesFilter,"?category=").concat("movies"===_?"movie":"animation"===_?"movie,series":_).concat(g?"&year=".concat(g):"").concat(O).concat(F).concat(N.__).concat(P).concat(L),e.next=87,fetch(encodeURI("".concat(q)));case 87:if(!((K=e.sent).status<400)){e.next=93;break}return e.next=91,K.json();case 91:delete(m=e.sent).genre.cartoon;case 93:return(u&&!x.genre[u]||g&&!x.year[g]&&!W.includes(g))&&t&&t.res&&(t.res.statusCode=404),J="".concat(b).concat(w).concat(O).concat(N.__).concat(P).concat(L),e.abrupt("return",{data:v,category:_,filters:x,genre:u,year:g,kids:C,pageN:h,numberOfItems:f,getContentUrl:J,filtersForGenre:m,filtersForYear:y});case 96:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(g.Component)},94372:function(e,t,a){"use strict";var r=a(85893),n=a(74047),c=a(52700),o=a(4706),s=a(8127),i=a(44102),l=a(20775),p=a(26265),u=a(67294),g=a(11163),d=a(6831),h=a(53082),f=a(61984),m=a(97025),y=a.n(m);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,p.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,l.Z)(e);if(t){var n=(0,l.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.Z)(this,a)}}var Z={clickHouseShoot:d.F7},_=function(e){(0,s.Z)(a,e);var t=j(a);function a(){var e;(0,n.Z)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c)),(0,p.Z)((0,o.Z)(e),"clickHandler",(function(){var t=e.props,a=t.text,r=t.type,n=t.blockInfo,c=e.props.registration.authData,o=e.props.systemInformation.clickHouseData;if(c&&o){var s=x(x({},o),{},{screen_attributes_ab_tag:c&&c.tags?c.tags:"",action_id:"click",element_type:"button",element_attributes_id:r,element_attributes_text:a,event_time:(new Date).getTime()},n);e.props.clickHouseShoot(s)}e.props.onClick()})),e}return(0,c.Z)(a,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.spinner,n=e.left_img,c=e.right_img,o=e.page,s=e.secondary,i=e.testid,l=e.empty,p=e.float,u=e.fullWidth,g=e.catalog,d=e.dark,h=e.mTop,m=e.className,v=this.props.profile.currentProfile;return(0,r.jsxs)("div",{className:"".concat(y()["red-button"]).concat(u?" ".concat(y().fullWidth):"").concat(l?" ".concat(y().empty):"").concat(d?" ".concat(y().dark):"").concat(p?" ".concat(y().float):"").concat(g?" ".concat(y().catalog):"").concat("header"===o?" ".concat(y().header):"").concat("ways-to-watch"===o?" ".concat(y()["ways-to-watch-button"]):"").concat("job"===o?" ".concat(y().job):"").concat(s?" ".concat(y().secondary):"").concat("settings"===o?" ".concat(y().settings):"").concat(v&&v.child?" ".concat(y().child):"").concat(h?" ".concat(y()[h]):"").concat(m?" ".concat(m):""),onClick:this.clickHandler,"data-testid":i||null,children:[n&&!a?(0,r.jsx)("img",{className:y().left_img,src:"".concat(n)}):null,t&&!a?(0,r.jsx)("span",{className:y()["button-text"],"data-testid":"".concat(i,"_text"),children:t}):null,c&&!a?(0,r.jsx)("img",{className:y().right_img,src:"".concat(c)}):null,a?(0,r.jsx)(f.Z,{}):null]})}}]),a}(u.PureComponent);t.Z=(0,g.withRouter)((0,h.$j)((function(e){return{registration:e.registration,systemInformation:e.systemInformation,profile:e.profile}}),Z)(_))},61984:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var r=a(85893),n=a(74047),c=a(52700),o=a(8127),s=a(44102),i=a(20775),l=a(67294),p=a(13720),u=a.n(p);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.Z)(e);if(t){var n=(0,i.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.Z)(this,a)}}var d=function(e){(0,o.Z)(a,e);var t=g(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,c.Z)(a,[{key:"render",value:function(){return(0,r.jsxs)("div",{className:u()["spinner-wrapper"],children:[(0,r.jsx)("svg",{className:u()["spinner-forloading"],xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26",children:(0,r.jsx)("path",{fill:"none",fillRule:"evenodd",stroke:"#F2F2F2",strokeLinecap:"round",strokeWidth:"2",d:"M25 13c0-6.627-5.373-12-12-12S1 6.373 1 13",opacity:".4"})}),(0,r.jsx)("svg",{className:u()["spinner-row"],xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26",children:(0,r.jsx)("path",{fill:"none",fillRule:"evenodd",stroke:"#F2F2F2",strokeLinecap:"round",strokeWidth:"2",d:"M25 13c0-6.627-5.373-12-12-12"})})]})}}]),a}(l.Component)},99547:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category",function(){return a(72761)}])},97025:function(e){e.exports={"red-button":"Button_red-button__hcJcf",fullWidth:"Button_fullWidth__3hW2V",empty:"Button_empty__-xZHr",dark:"Button_dark__27hE7",mTop8:"Button_mTop8__2Jovp",left_img:"Button_left_img__niwoJ",float:"Button_float__34044",header:"Button_header__2DutM",job:"Button_job__BjzLo","ways-to-watch-button":"Button_ways-to-watch-button__1_93i","button-text":"Button_button-text__3dENX",secondary:"Button_secondary__iIIa7",settings:"Button_settings__2TPQA",child:"Button_child__1-4v3",right_img:"Button_right_img__1Jkt4",catalog:"Button_catalog__LYlQg"}},13720:function(e){e.exports={"spinner-forloading":"Spinner_spinner-forloading__19V_z","spinner-row":"Spinner_spinner-row__kCsRA","spinner-wrapper":"Spinner_spinner-wrapper__2nwzf"}}},function(e){e.O(0,[9774,7925,3433,2090,7018,2191,1688,3016,4588],(function(){return t=99547,e(e.s=t);var t}));var t=e.O();_N_E=t}]);